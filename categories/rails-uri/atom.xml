<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: rails-uri | Fun On Rails]]></title>
  <link href="http://funonrails.com/categories/rails-uri/atom.xml" rel="self"/>
  <link href="http://funonrails.com/"/>
  <updated>2014-03-20T17:33:22+05:30</updated>
  <id>http://funonrails.com/</id>
  <author>
    <name><![CDATA[sandipransing]]></name>
    <email><![CDATA[sandip@funonrails.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[understanding rails uri]]></title>
    <link href="http://funonrails.com/2012/01/understanding-rails-uri/"/>
    <updated>2012-01-14T02:18:00+05:30</updated>
    <id>http://funonrails.com/2012/01/understanding-rails-uri</id>
    <content type="html"><![CDATA[<p><code>rails-uri</code> module provides us with url manipulation methods</p>

<h2>Parse string url</h2>

<p><code>ruby
url = URI.parse('http://funonrails.com/categories/rails-3')
url.host #=&gt; "http://funonrails.com"
url.port #=&gt; 80
</code></p>

<h2>URL with Basic Authentication</h2>

<p><code>ruby
url = URI.parse('http://sandip:2121@funonrails.com/categories/rails-3')
url.user #=&gt; "sandip"
url.password #=&gt; "2121"
</code></p>

<h2>Extracting urls form string paragraph</h2>

<p>```ruby
URI.extract(&lsquo;<a href="http://funonrails.com">http://funonrails.com</a> is rails blog authored by <a href="http://sandipransing.github.com">http://sandipransing.github.com</a> contact <a href="&#x6d;&#x61;&#x69;&#108;&#x74;&#x6f;&#58;&#x2f;&#x2f;&#115;&#97;&#x6e;&#100;&#x69;&#x70;&#x40;&#102;&#117;&#x6e;&#111;&#x6e;&#114;&#x61;&#x69;&#108;&#115;&#46;&#x63;&#x6f;&#109;">&#x2f;&#47;&#x73;&#x61;&#110;&#100;&#105;&#x70;&#64;&#x66;&#x75;&#110;&#111;&#x6e;&#114;&#97;&#x69;&#108;&#115;&#46;&#x63;&#x6f;&#109;</a>&rsquo;)</p>

<h1>=> [&ldquo;<a href="http://funonrails.com">http://funonrails.com</a>&rdquo;, &ldquo;<a href="http://sandipransing.github.com">http://sandipransing.github.com</a>&rdquo;, &ldquo;<a href="&#109;&#97;&#105;&#108;&#116;&#x6f;&#x3a;&#x2f;&#x2f;&#115;&#97;&#110;&#100;&#x69;&#112;&#x40;&#x66;&#x75;&#110;&#x6f;&#x6e;&#114;&#x61;&#x69;&#x6c;&#115;&#46;&#x63;&#x6f;&#x6d;">&#x2f;&#x2f;&#115;&#97;&#x6e;&#100;&#x69;&#x70;&#x40;&#102;&#x75;&#110;&#111;&#x6e;&#x72;&#97;&#x69;&#108;&#x73;&#x2e;&#x63;&#x6f;&#x6d;</a>&rdquo;]</h1>

<p>```</p>

<h2>Split &amp; Join URI</h2>

<p>```ruby
URI.split(&lsquo;<a href="http://sandip:2121@funonrails.com/categories/rails-3">http://sandip:2121@funonrails.com/categories/rails-3</a>&rsquo;)</p>

<h1>=> [&ldquo;http&rdquo;, &ldquo;sandip:2121&rdquo;, &ldquo;funonrails.com&rdquo;, nil, nil, &ldquo;/categories/rails-3&rdquo;, nil, nil, nil]</h1>

<p>&lt;=> [Scheme, Userinfo, Host, Port, Registry, Path, Opaque, Query, Fragment]</p>

<p>URI.join(&lsquo;<a href="http://funonrails.com">http://funonrails.com</a>&rsquo;,&lsquo;categories/rails-3&rsquo;)</p>

<h1>=> #&lt;URI::<a href="HTTP:0x7fbf9202efc8">HTTP:0x7fbf9202efc8</a> URL:<a href="http://funonrails.com/categories/rails-3">http://funonrails.com/categories/rails-3</a>></h1>

<p>```</p>

<h2>Escape &amp; Unescape alias encode/decode URI</h2>

<p>```ruby
URI.escape &ldquo;<a href="http://funonrails.com/categories/named">http://funonrails.com/categories/named</a> scopes&rdquo;</p>

<h1>=> &ldquo;<a href="http://funonrails.com/categories/named%20scopes">http://funonrails.com/categories/named%20scopes</a>&rdquo;</h1>

<p>URI.encode &ldquo;<a href="http://funonrails.com/categories/named">http://funonrails.com/categories/named</a> scopes&rdquo;</p>

<h1>=> &ldquo;<a href="http://funonrails.com/categories/named%20scopes">http://funonrails.com/categories/named%20scopes</a>&rdquo;</h1>

<p>URI.decode &ldquo;<a href="http://funonrails.com/categories/named%20scopes">http://funonrails.com/categories/named%20scopes</a>&rdquo;</p>

<h1>=> &ldquo;<a href="http://funonrails.com/categories/named">http://funonrails.com/categories/named</a> scopes&rdquo;</h1>

<p>URI.unescape &ldquo;<a href="http://funonrails.com/categories/named%20scopes">http://funonrails.com/categories/named%20scopes</a>&rdquo;</p>

<h1>=> &ldquo;<a href="http://funonrails.com/categories/named">http://funonrails.com/categories/named</a> scopes&rdquo;</h1>

<p>```</p>

<h2>Match urls using regular expressions</h2>

<p>```</p>

<h1>extract first URI from html_string</h1>

<p>&ldquo;<a href="ftp://localhost">ftp://localhost</a> <a href="http://funonrails.com/categories/rails-3">http://funonrails.com/categories/rails-3</a>&rdquo;.slice(URI.regexp)</p>

<h1>=> &ldquo;<a href="ftp://localhost">ftp://localhost</a>&rdquo;</h1>

<h1>remove ftp URIs</h1>

<p>&ldquo;<a href="ftp://localhost">ftp://localhost</a> <a href="http://funonrails.com/categories/rails-3">http://funonrails.com/categories/rails-3</a>&rdquo;.sub(URI.regexp([&lsquo;ftp&rsquo;]))</p>

<h1>=> &ldquo; <a href="http://funonrails.com/categories/rails-3">http://funonrails.com/categories/rails-3</a>&rdquo;</h1>

<h1>You should not rely on the number of parentheses</h1>

<p>&ldquo;<a href="ftp://localhost">ftp://localhost</a> <a href="http://funonrails.com/categories/rails-3">http://funonrails.com/categories/rails-3</a>&rdquo;.scan(URI.regexp([&lsquo;ftp&rsquo;])) do |*matchs|
  p $&amp;
  #=> <a href="ftp://localhost">ftp://localhost</a>
end
```</p>

<h2>Getting requested url inside rails</h2>

<p><code>ruby
request.request_uri
request.env['REQUEST_URI']
</code></p>

<h2>Getting previous page url inside rails</h2>

<p><code>
request.referrer
</code></p>
]]></content>
  </entry>
  
</feed>
