<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: rake-tasks | Fun On Rails]]></title>
  <link href="http://funonrails.com/categories/rake-tasks/atom.xml" rel="self"/>
  <link href="http://funonrails.com/"/>
  <updated>2014-03-27T15:27:50+05:30</updated>
  <id>http://funonrails.com/</id>
  <author>
    <name><![CDATA[sandipransing]]></name>
    <email><![CDATA[sandip@funonrails.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Writing rake task in rails with namespace, parameters]]></title>
    <link href="http://funonrails.com/2009/11/writing-rake-task-in-rails/"/>
    <updated>2009-11-10T15:09:00+05:30</updated>
    <id>http://funonrails.com/2009/11/writing-rake-task-in-rails</id>
    <content type="html"><![CDATA[<p>Rake tasks itself defines that &ldquo;they are bunch of ruby code that performs some task.&rdquo;</p>

<p>Rake tasks are placed in lib/tasks directory of application and files have <code>.rake</code> extension.
There are many lovable tasks defined in rails. They can be executed from console.</p>

<h2>Benefits of writing rake task :</h2>

<ol>
<li>Testing of code</li>
<li>Scheduled rake tasks ( backgroundRb and scheduled tasks using cron )</li>
<li>Simplifies code.</li>
</ol>


<p>Lets, understand what is code inside rake tasks.</p>

<h2>Simple greet rake task</h2>

<p>```</p>

<h1>lib/tasks/welcome.rake</h1>

<p>task :greet do
  puts &ldquo;Hello !!&rdquo;
end
```</p>

<h2>Execute task</h2>

<p><code>
rake greet
</code></p>

<h2>Adding description to rake task</h2>

<p>```ruby</p>

<h1>lib/tasks/welcome.rake</h1>

<p>desc &ldquo;This is new style of greet&rdquo;
task :greet do
  puts &ldquo;Hello !!&rdquo;
end
```</p>

<h2>Execute task</h2>

<p><code>
rake greet
</code></p>

<h2>Adding namespace to rake tasks</h2>

<p>Itâ€™s nothing but prefix that takes while executing rake task. Benefit of adding namespace is to categories similar rake tasks.
```</p>

<h1>lib/tasks/welcome.rake</h1>

<p>namespace :introduction do
  desc &ldquo;This is one style of introduction&rdquo;
  task :greet do</p>

<pre><code>puts "Hello !!"
</code></pre>

<p>  end</p>

<p>  desc &ldquo;This is 2nd style of introduction&rdquo;
  task :hi do</p>

<pre><code>puts "Hi "
</code></pre>

<p>  end
end
```</p>

<h2>Execute task</h2>

<p><code>
rake introduction:greet
rake introduction:hi
</code></p>

<h2>Passing arguments to rake tasks</h2>

<p>```ruby</p>

<h1>lib/tasks/welcome.rake</h1>

<p>namespace :introduction do
  desc &ldquo;This is one style of introduction&rdquo;
  task :greet do</p>

<pre><code>puts "Hello !!"
</code></pre>

<p>  end</p>

<p>  # Here rails environment is loaded
  # Here you can access model, controllers, etc
  desc &ldquo;This is 2nd style of introduction&rdquo;
  task :hi => :enviroment do</p>

<pre><code>puts "Hi #{ENV['name']}"
</code></pre>

<p>  end
end
```</p>

<h2>Execute task</h2>

<p><code>
rake introduction:hi name=Raj
</code>
You can read more on this <a href="http://www.blogger.com/For%20more%20reference%20http://railsenvy.com/2007/6/11/ruby-on-rails-rake-tutorial#namespaces">here</a></p>
]]></content>
  </entry>
  
</feed>
