<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: aws | Fun On Rails]]></title>
  <link href="http://funonrails.com/categories/aws/atom.xml" rel="self"/>
  <link href="http://funonrails.com/"/>
  <updated>2014-02-28T16:44:16+05:30</updated>
  <id>http://funonrails.com/</id>
  <author>
    <name><![CDATA[sandipransing]]></name>
    <email><![CDATA[sandip@funonrails.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[paperclip options aws-s3 config and rails]]></title>
    <link href="http://funonrails.com/2011/11/paperclip-options-aws-s3-config-and-rails/"/>
    <updated>2011-11-21T23:23:00+05:30</updated>
    <id>http://funonrails.com/2011/11/paperclip-options-aws-s3-config-and-rails</id>
    <content type="html"><![CDATA[<p>Stepwise guide to configure paperclip default options, setting up aws-s3 storage in rails
Inside Gemfile</p>

<p><code>
gem 'aws-s3',               :require =&gt; 'aws/s3'
gem 'paperclip'
</code></p>

<p>Bundle
<code>
bundle install
</code>
Generate Print model to hold image
<code>
rails g model print image_file_name:string image_content_type:string image_file_size:string
</code></p>

<p>DB Migration
<code>
rake db:migrate
</code></p>

<p>Add s3 credentials to YML file
```</p>

<h1>config/s3.yml</h1>

<p>access_key_id: DASDFG7KACNxIJdJXHPQ
secret_access_key: BnDrTnzCTX+R707wYEP/aCEqAsDFG7sgW
```</p>

<p>Add default paperclip attachment options to initializer
```ruby</p>

<h1>Make sure to add host url inside config/environments</h1>

<h1>HOSTNAME = &lsquo;<a href="http://lordganesha.com">http://lordganesha.com</a>&rsquo;</h1>

<p>Paperclip::Attachment.default_options.merge!(
  :storage => &lsquo;s3&rsquo;,
  :s3_credentials => YAML.load_file(&ldquo;#{Rails.root}/config/s3.yml&rdquo;),
  :path => &ldquo;:class/:attachment/#{Rails.env}/:id/:style/:basename.:extension&rdquo;,</p>

<pre><code>:default_url =&gt; "http://#{HOSTNAME}/images/paperclip/:class/:attachment/default.jpg",
</code></pre>

<p>  :bucket => &lsquo;ganesha&rsquo;
)
```</p>

<p>Add image attachment code to print model
```ruby</p>

<h1>app/models/print.rb</h1>

<p>class Print &lt; ActiveRecord::Base
  has_attached_file :image,</p>

<pre><code>:styles =&gt; {:medium =&gt; ["400x400#", :jpg], 
            :thumb =&gt; ["100x100#", :jpg], 
            :slider =&gt; ["300x300#", :jpg]}
</code></pre>

<p>  #validates_attachment_presence :image
  validates_attachment_size :image, :less_than => 1.megabytes, :message => &lsquo;file size maximum 1 MB allowed&rsquo;
  validates_attachment_content_type :image, :content_type => [&lsquo;image/jpeg&rsquo;, &lsquo;image/png&rsquo;, &lsquo;image/gif&rsquo;, &lsquo;image/bmp&rsquo;, &lsquo;image/pjpeg&rsquo;, &lsquo;image/x-png&rsquo;]
end
```</p>

<p>Inside views
```haml</p>

<h1>inside new.html.haml</h1>

<p>= form_for @print do
  =f.file_field :image
```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Getting started with MySQL on Amazon Web Services]]></title>
    <link href="http://funonrails.com/2011/01/getting-started-with-mysql-on-amazon/"/>
    <updated>2011-01-15T18:30:00+05:30</updated>
    <id>http://funonrails.com/2011/01/getting-started-with-mysql-on-amazon</id>
    <content type="html"><![CDATA[<div class='post'>
<div style="width:825px" id="__ss_1327730">
<strong style="display:block;margin:12px 0 4px">
<a href="http://www.slideshare.net/ronaldbradford/getting-started-with-mysql-in-amazon-web-services" title="Getting started with MySQL on Amazon Web Services">Getting started with MySQL on Amazon Web Services</a>
</strong>
<object id="__sse1327730" width="825" height="355">
<param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=usingamazonwebservices-090422111735-phpapp01&stripped_title=getting-started-with-mysql-in-amazon-web-services&userName=ronaldbradford" />
<param name="allowFullScreen" value="true"/>
<param name="allowScriptAccess" value="always"/>
<embed name="__sse1327730" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=usingamazonwebservices-090422111735-phpapp01&stripped_title=getting-started-with-mysql-in-amazon-web-services&userName=ronaldbradford" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="825" height="355">
</embed>
</object>
<div style="padding:5px 0 12px">View more 
<a href="http://www.slideshare.net/">presentations</a> 
from <a href="http://www.slideshare.net/ronaldbradford">Ronald Bradford</a>.
</div>
</div>
</div>

]]></content>
  </entry>
  
</feed>
