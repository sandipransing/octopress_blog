<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: associations | Fun On Rails]]></title>
  <link href="http://funonrails.com/categories/associations/atom.xml" rel="self"/>
  <link href="http://funonrails.com/"/>
  <updated>2014-02-27T15:02:56+05:30</updated>
  <id>http://funonrails.com/</id>
  <author>
    <name><![CDATA[sandipransing]]></name>
    <email><![CDATA[sandip@funonrails.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[has_many => through association for rails polymorphic model]]></title>
    <link href="http://funonrails.com/2010/02/hasmany-through-association-for-rails/"/>
    <updated>2010-02-15T21:54:00+05:30</updated>
    <id>http://funonrails.com/2010/02/hasmany-through-association-for-rails</id>
    <content type="html"><![CDATA[<p>Example of polymorphic association using has_many, through, source</p>

<p>Here post is polymorphic resource which belongs to the author [can be student, teacher]</p>

<p>```ruby</p>

<h1>app/models/student.rb</h1>

<p>class Student &lt; ActiveRecord::Base</p>

<p>  has_many :posts, :as => author
end</p>

<h1>app/models/teacher.rb</h1>

<p>class Teacher &lt; ActiveRecord::Base</p>

<p>  has_many :posts, :as => author
end</p>

<h1>app/models/post.rb</h1>

<p>class Post &lt; ActiveRecord::Base</p>

<p>  belongs to :author, :polymorphic => true
end
```
Has_many through association on polymorphic models</p>

<p>```ruby</p>

<h1>app/models/student.rb</h1>

<p>class Student &lt; ActiveRecord::Base</p>

<p>  beloyngs_to :division
  has_many :posts, :as => author
end</p>

<h1>app/models/division.rb</h1>

<p>class Division &lt; ActiveRecord::Base</p>

<p>  has_many :students
  has_many :student_posts, :through => :students, :source => :posts
end
```
Examples</p>

<p><code>ruby
ruby script/console
div = Division.first
div.student_posts
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to get all associated models of rails model]]></title>
    <link href="http://funonrails.com/2009/11/how-to-get-all-associted-models-of-rails-model/"/>
    <updated>2009-11-26T20:40:00+05:30</updated>
    <id>http://funonrails.com/2009/11/how-to-get-all-associted-models-of-rails-model</id>
    <content type="html"><![CDATA[<p>I have Site Model and i wanted to find all associated models of Site model which are having belongs_to relationship.
After doing lot headache, here is the solution i found</p>

<h2>has_many models of Site Model</h2>

<p><code>
 Site.reflect_on_all_associations.map{|mac| mac.class_name if mac.macro==:has_many}.compact
=&gt; ["Layout", "User", "SubmenuLink", "Snippet", "Asset"]
</code></p>

<h2>belongs_to model of Site Model</h2>

<p><code>
Site.reflect_on_all_associations.map{|mac| mac.class_name if mac.macro==:belongs_to}.compact
=&gt; ["User", "Page", "User"]
</code></p>

<h2>To get all associations</h2>

<p><code>
Site.reflect_on_all_associations.map{|mac| mac.class_name}.compact
=&gt; ["Layout", "User", "Page", "User", "SubmenuLink", "User", "Snippet", "Asset"]
</code></p>

<p>Hari, U rocks !</p>
]]></content>
  </entry>
  
</feed>
