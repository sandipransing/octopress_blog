
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A Ruby and Rails Blog | Fun On Rails</title>
  <meta name="author" content="sandipransing">

  
  <meta name="description" content="Journal of a web developer containing learnings and experiences while developing with ruby, rails, JS and linux">
  <meta name="keywords" content="ruby, rails, gems, plugins, radiant, cms, SEO, geokit, asterisk, adhearsion, pdf, prawn, ubuntu, vim, linux, jQuery, sass, haml, nginx, passenger">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://funonrails.com/page/12">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/funonrails" rel="alternate" title="Fun On Rails" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48366424-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Fun On Rails</a></h1>
  
    <h2>Journal of a Web Developer #ruby #rails #JS</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.feedburner.com/funonrails" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=funonrails&amp;loc=en_US" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:funonrails.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  

  
    <a href="http://feedburner.google.com/fb/a/mailverify?uri=funonrails&amp;loc=en_US" style="float:right"><img src="http://feeds.feedburner.com/~fc/funonrails?bg=CC3300&amp;fg=000000&amp;anim=0" height="26" width="88" style="border:0" /></a>
  


<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/assets/sandipransing_cv.pdf" target='_blank'>CV</a></li>
  <li><a href="/ruby-on-rails-developers-in-india">ROR devs in india</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/inspirational-quotes-of-the-day">Inspirational Quotes</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/upgrading-openoffice-in-ubuntu-interpid/">Upgrading openoffice in ubuntu interpid</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-23T16:17:00+05:30" pubdate data-updated="true">Nov 23<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Follow simple steps defined <a href="http://ubuntumanual.org/posts/175/upgrade-to-open-office-3-1-in-ubuntu-jaunty-intrepid-hardy">in this post</a> for smooth upgrade of openoffice in linux.</p>

<p>click <a href="http://ubuntumanual.org/posts/175/upgrade-to-open-office-3-1-in-ubuntu-jaunty-intrepid-hardy">here</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/bundling-gems-in-rails-application/">bundling gems in rails application</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-23T14:47:00+05:30" pubdate data-updated="true">Nov 23<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Gem Bundling is basically used to maintain all required gems at your application level and its very easy to use.
It downloads necessary gems and maintain it under <code>/vender/gems</code> directory.</p>

<h2>Install gemcutter</h2>

<p>gemcutter provides hosting for ruby gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install gemcutter</span></code></pre></td></tr></table></div></figure>


<h2>Install bundler</h2>

<p>bundler is a tool that manages gem dependencies for your ruby application</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install bundler</span></code></pre></td></tr></table></div></figure>


<h2>Start using</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem bundle</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/vim-cheatsheet/">VI/ VIM cheats</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-18T01:20:00+05:30" pubdate data-updated="true">Nov 18<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Movements</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>b   previous word
</span><span class='line'>w   next word
</span><span class='line'>e        end of word
</span><span class='line'>0/^      begining of line
</span><span class='line'>$        end of line
</span><span class='line'>G        end of file
</span><span class='line'>1G/gg    begining of file
</span><span class='line'>/pattern  search next
</span><span class='line'>?pattern  search previous
</span><span class='line'>n         repeat    search forword ( i.e next occurence )
</span><span class='line'>N         repeat    search backword
</span><span class='line'>:line     goto line specified</span></code></pre></td></tr></table></div></figure>


<h2>Modes</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>i   insert mode
</span><span class='line'>r   replace mode
</span><span class='line'>s   delete character under cursor and eneter insert mode</span></code></pre></td></tr></table></div></figure>


<h2>Delete</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>x    delete character under cursor
</span><span class='line'>dd   delete current line
</span><span class='line'>line dd delete number of lines specified</span></code></pre></td></tr></table></div></figure>


<h2>Copy</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>yy        copy current line
</span><span class='line'>pp        print copied contents
</span><span class='line'>line yy   copy number of lines specified</span></code></pre></td></tr></table></div></figure>


<h2>Visual</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>v     enter visual mode
</span><span class='line'>aw    highlight word
</span><span class='line'>as    highlight sentence
</span><span class='line'>ap    highlight paragraph
</span><span class='line'>ab    highlight block</span></code></pre></td></tr></table></div></figure>


<h2>Undo/ Redo</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>u       undo
</span><span class='line'>cntrl+r redo</span></code></pre></td></tr></table></div></figure>


<h2>autocomplete</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cntrl+x   enter completion mode
</span><span class='line'>cntrl+p   display autocomplete options</span></code></pre></td></tr></table></div></figure>


<h2>Uppercase/ Lowercase</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>guu   lowercase line
</span><span class='line'>gUU   uppercase line</span></code></pre></td></tr></table></div></figure>


<h2>Regx replace</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>range s/foo/bar/arg - replace foo with bar in 'range' with
</span><span class='line'>
</span><span class='line'>Values of 'range':
</span><span class='line'>%               whole file
</span><span class='line'>number          that particular line
</span><span class='line'>none            apply to current line only
</span><span class='line'>
</span><span class='line'>values of 'arg':
</span><span class='line'>none  apply to first occurrence
</span><span class='line'>g     global (all occurrences)</span></code></pre></td></tr></table></div></figure>


<h2>Select/Macros</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>qchar      start recording macro storing it in register 'char'
</span><span class='line'>q          end recording
</span><span class='line'>@char      replay the macro stored in 'char'
</span><span class='line'>:1,10 norm! @char run the macro stored in 'char over the 1-10 line range</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/yaml-file-configuration-in-ruby-rails/">YAML file configuration in ruby & rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-17T15:01:00+05:30" pubdate data-updated="true">Nov 17<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>While coding in ruby and rails, we often requires variables to be initialized that can be used across application. There are many ways to define configuration variables</p>

<h2>Initialize variables inside environment</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># This agencies can be used across application
</span><span class='line'>AGENCIES = ['TIMES NEWS NETWORK', 'AGENCIES', 'AFP', 'PTI']
</span><span class='line'>
</span><span class='line'># Configuration for html nodes
</span><span class='line'>
</span><span class='line'>Article_title_tag = "h1.heading"
</span><span class='line'>Date_auth_agency_tag = "span[@class='byline']"
</span><span class='line'>Location_content_tag = "div[@class='Normal']"</span></code></pre></td></tr></table></div></figure>


<h2>Create config inside initializers</h2>

<p>Just make <code>config.rb</code> inside initializers and add variables to it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#config/initializers/config.rb
</span><span class='line'># This agencies can be used across application
</span><span class='line'>AGENCIES = ['TIMES NEWS NETWORK', 'AGENCIES', 'AFP', 'PTI']
</span><span class='line'>
</span><span class='line'># Configuration for html nodes
</span><span class='line'>Article_title_tag = "h1.heading"
</span><span class='line'>Date_auth_agency_tag = "span[@class='byline']"
</span><span class='line'>Location_content_tag = "div[@class='Normal']"</span></code></pre></td></tr></table></div></figure>


<h2>Load config using YML</h2>

<p>But most efficient way to organize variables is YML file</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="c1"># config/config.yml</span>
</span><span class='line'><span class="l-Scalar-Plain">the_times_of_india</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">article_title_tag</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">h1.heading</span>
</span><span class='line'>  <span class="l-Scalar-Plain">date_auth_agency_tag</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">span[@class=&#39;byline&#39;]</span>
</span><span class='line'>  <span class="l-Scalar-Plain">loc_content_tag</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">div[@class=&#39;Normal&#39;]</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Accessing YML files</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">APP_CONFIG</span> <span class="o">=</span> <span class="no">YAML</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">#{</span><span class="no">RAILS_ROOT</span><span class="si">}</span><span class="s2">/config/config.yml&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1">#=&gt; true</span>
</span><span class='line'><span class="o">&gt;&gt;</span> <span class="no">APP_CONFIG</span>
</span><span class='line'><span class="c1">#=&gt; {&quot;the_times_of_india&quot;=&gt;{&quot;article_title_tag&quot;=&gt;&quot;h1.heading&quot;, &quot;loc_content_tag&quot;=&gt;&quot;div[@class=&#39;Normal&#39;]&quot;, &quot;date_auth_agency_tag&quot;=&gt;&quot;span[@class=&#39;byline&#39;]&quot;}}</span>
</span><span class='line'><span class="o">&gt;&gt;</span> <span class="no">APP_CONFIG</span><span class="o">[</span><span class="ss">:the_times_of_india</span><span class="o">]</span>
</span><span class='line'><span class="c1">#=&gt; nil</span>
</span><span class='line'><span class="o">&gt;&gt;</span> <span class="no">APP_CONFIG</span><span class="o">[</span><span class="s1">&#39;the_times_of_india&#39;</span><span class="o">]</span>
</span><span class='line'><span class="c1">#=&gt; {&quot;article_title_tag&quot;=&gt;&quot;h1.heading&quot;, &quot;loc_content_tag&quot;=&gt;&quot;div[@class=&#39;Normal&#39;]&quot;, &quot;date_auth_agency_tag&quot;=&gt;&quot;span[@class=&#39;byline&#39;]&quot;}</span>
</span><span class='line'><span class="o">&gt;&gt;</span> <span class="no">APP_CONFIG</span><span class="o">[</span><span class="s1">&#39;the_times_of_india&#39;</span><span class="o">][</span><span class="s1">&#39;article_title_tag&#39;</span><span class="o">]</span>
</span><span class='line'><span class="c1">#=&gt; &quot;h1.heading&quot;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/pidgin-install-and-update-pidgin/">pidgin install and update pidgin messenger on ubuntu interpid</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-15T12:57:00+05:30" pubdate data-updated="true">Nov 15<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Fresh pidgin Installation</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get update
</span><span class='line'>sudo apt-get install pidgin</span></code></pre></td></tr></table></div></figure>


<p>Earlier versions of pidgin has problem in connecting yahoo messenger which is solved in newer versions.
In order to update old version of pidgin, simply follow instructions written below and you are done.
New version provides video and voice chat, also buddy icon improvements are added.</p>

<h2>Add GPG key</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get update
</span><span class='line'>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys A1F196A8</span></code></pre></td></tr></table></div></figure>


<p>Goto <code>System</code> > <code>Administration</code> > <code>Software Sources</code> and select <code>Third-Party Software tab</code> and click <code>ADD</code> and simply Copy-Paste the following Repo</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>deb http://ppa.launchpad.net/pidgin-developers/ppa/ubuntu intrepid main 
</span><span class='line'>deb-src http://ppa.launchpad.net/pidgin-developers/ppa/ubuntu intrepid main</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/how-to-remove-extra-spaces-in-ruby/">How to remove extra spaces in ruby strings</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-13T14:15:00+05:30" pubdate data-updated="true">Nov 13<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There are many methods in ruby which will allow to remove blank spaces from ruby strings (sentenses)</p>

<h4>squeeze</h4>

<p>This will remove extra spaces (more than one) in between two words</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;Write      your       string            here   &quot;</span><span class="o">.</span><span class="n">squeeze</span><span class="o">.</span><span class="n">strip</span>
</span></code></pre></td></tr></table></div></figure>


<h4>gsub</h4>

<p>It can be used to match and substitue additional spaces</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;This     is my      input  string     &quot;</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/ +/</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h4>split &amp; join strings</h4>

<p>Strings can be splitted based on spaces and joined.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;Write      your       string          here   &quot;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;  &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/manual-active-record-db-connection/">Manual active record db connection in ruby using mysql adapter</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-12T20:27:00+05:30" pubdate data-updated="true">Nov 12<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Manual DB connection</h2>

<p>Below ruby code establishes a manual database connection.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;active_record&#39;</span>
</span><span class='line'><span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">establish_connection</span><span class="p">(</span>
</span><span class='line'>  <span class="ss">:adapter</span>  <span class="o">=&gt;</span> <span class="s2">&quot;mysql&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:host</span>     <span class="o">=&gt;</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s2">&quot;root&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s2">&quot;abcd&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="ss">:database</span> <span class="o">=&gt;</span> <span class="s2">&quot;funonrails&quot;</span>
</span><span class='line'><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Snippet of database.yml file</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="l-Scalar-Plain">common</span><span class="p-Indicator">:</span> <span class="nl">&amp;common</span>
</span><span class='line'>  <span class="l-Scalar-Plain">adapter</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span>
</span><span class='line'>  <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">students_dev</span>
</span><span class='line'>  <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">root</span>
</span><span class='line'>  <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">students_development</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">&lt;&lt;</span><span class="p-Indicator">:</span> <span class="nv">*common</span>
</span><span class='line'>  <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">students_dev</span>
</span><span class='line'>
</span><span class='line'><span class="l-Scalar-Plain">students_production</span><span class="p-Indicator">:</span>
</span><span class='line'>  <span class="l-Scalar-Plain">&lt;&lt;</span><span class="p-Indicator">:</span> <span class="nv">*common</span>
</span><span class='line'>  <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">students</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Load database configurations from yml file</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">dbconfig</span> <span class="o">=</span> <span class="ss">YAML</span><span class="p">:</span><span class="ss">:load</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;database.yml&#39;</span><span class="p">))</span>
</span><span class='line'><span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span><span class="o">.</span><span class="n">establish_connection</span><span class="p">(</span> <span class="n">dbconfig</span><span class="o">[</span><span class="ss">:students_development</span><span class="o">]</span> <span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Active Record Model &amp; DB connection</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Student</span> <span class="o">&lt;</span> <span class="ss">ActiveRecord</span><span class="p">:</span><span class="ss">:Base</span>
</span><span class='line'>  <span class="n">establish_connection</span> <span class="s2">&quot;students_production&quot;</span>
</span><span class='line'>  <span class="n">set_table_name</span> <span class="s2">&quot;student&quot;</span>
</span><span class='line'>  <span class="n">set_primary_key</span> <span class="s2">&quot;stud_number&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/writing-rake-task-in-rails/">Writing rake task in rails with namespace, parameters</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-10T15:09:00+05:30" pubdate data-updated="true">Nov 10<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Rake tasks itself defines that &ldquo;they are bunch of ruby code that performs some task.&rdquo;</p>

<p>Rake tasks are placed in lib/tasks directory of application and files have <code>.rake</code> extension.
There are many lovable tasks defined in rails. They can be executed from console.</p>

<h2>Benefits of writing rake task :</h2>

<ol>
<li>Testing of code</li>
<li>Scheduled rake tasks ( backgroundRb and scheduled tasks using cron )</li>
<li>Simplifies code.</li>
</ol>


<p>Lets, understand what is code inside rake tasks.</p>

<h2>Simple greet rake task</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># lib/tasks/welcome.rake
</span><span class='line'>task :greet do
</span><span class='line'>  puts "Hello !!"
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<h2>Execute task</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake greet</span></code></pre></td></tr></table></div></figure>


<h2>Adding description to rake task</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># lib/tasks/welcome.rake</span>
</span><span class='line'><span class="n">desc</span> <span class="s2">&quot;This is new style of greet&quot;</span>
</span><span class='line'><span class="n">task</span> <span class="ss">:greet</span> <span class="k">do</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;Hello !!&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Execute task</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">greet</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Adding namespace to rake tasks</h2>

<p>It’s nothing but prefix that takes while executing rake task. Benefit of adding namespace is to categories similar rake tasks.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># lib/tasks/welcome.rake</span>
</span><span class='line'><span class="n">namespace</span> <span class="ss">:introduction</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;This is one style of introduction&quot;</span>
</span><span class='line'>  <span class="n">task</span> <span class="ss">:greet</span> <span class="k">do</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Hello !!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;This is 2nd style of introduction&quot;</span>
</span><span class='line'>  <span class="n">task</span> <span class="ss">:hi</span> <span class="k">do</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Hi &quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Execute task</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="ss">introduction</span><span class="p">:</span><span class="n">greet</span>
</span><span class='line'><span class="n">rake</span> <span class="ss">introduction</span><span class="p">:</span><span class="n">hi</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Passing arguments to rake tasks</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># lib/tasks/welcome.rake</span>
</span><span class='line'><span class="n">namespace</span> <span class="ss">:introduction</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;This is one style of introduction&quot;</span>
</span><span class='line'>  <span class="n">task</span> <span class="ss">:greet</span> <span class="k">do</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Hello !!&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Here rails environment is loaded</span>
</span><span class='line'>  <span class="c1"># Here you can access model, controllers, etc</span>
</span><span class='line'>  <span class="n">desc</span> <span class="s2">&quot;This is 2nd style of introduction&quot;</span>
</span><span class='line'>  <span class="n">task</span> <span class="ss">:hi</span> <span class="o">=&gt;</span> <span class="ss">:enviroment</span> <span class="k">do</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Hi </span><span class="si">#{</span><span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;name&#39;</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Execute task</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="ss">introduction</span><span class="p">:</span><span class="n">hi</span> <span class="nb">name</span><span class="o">=</span><span class="no">Raj</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can read more on this <a href="http://www.blogger.com/For%20more%20reference%20http://railsenvy.com/2007/6/11/ruby-on-rails-rake-tutorial#namespaces">here</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/understanding-and-creating-radinat/">Understanding and creating radinat extensions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-10T13:52:00+05:30" pubdate data-updated="true">Nov 10<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Understanding and creating radinat extensions</h2>

<p>To start with, first understand <em>what is radiant</em> and <em>why to use it ?</em></p>

<blockquote><p>Radiant is a open source content management system designed that serves cms needs for small organisations</p></blockquote>

<h2>Creating new radint application</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>radiant -d  mysql cms
</span><span class='line'>  create
</span><span class='line'>  create    CHANGELOG
</span><span class='line'>  create    CONTRIBUTORS
</span><span class='line'>  create    INSTALL
</span><span class='line'>  create    LICENSE
</span><span class='line'>  create    README
</span><span class='line'>  create    config
</span><span class='line'>  create    config/environments
</span><span class='line'>  .....</span></code></pre></td></tr></table></div></figure>


<p>Radiant supports extensions. It means one can add extra features to radiant based cms to add extra capabilities.
Extension directory structure is almost similar to any standard rails application</p>

<h2>Radiant Extension Directory structure</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>|-- app
</span><span class='line'>       |-- controllers
</span><span class='line'>       |-- helpers
</span><span class='line'>       |-- models
</span><span class='line'>       |-- views
</span><span class='line'>|-- db
</span><span class='line'>       |-- migrate
</span><span class='line'>       |-- seeds.rb
</span><span class='line'>|-- lib
</span><span class='line'>       |-- spec
</span><span class='line'>          |-- controllers
</span><span class='line'>          |-- helpers
</span><span class='line'>          |-- models
</span><span class='line'>          |-- spec.opts
</span><span class='line'>          |-- spec_helper
</span><span class='line'>          |-- views</span></code></pre></td></tr></table></div></figure>


<h2>Creating radiant extension</h2>

<p>radiant has generators to create new radint extension</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/generate extension ExtensionName</span></code></pre></td></tr></table></div></figure>


<p>Lets create session management extension for radint cms. It will create directory structure for extension.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>script/generate extension session_management
</span><span class='line'>  create vendor/extensions/session_management/app/controllers
</span><span class='line'>  create vendor/extensions/session_management/app/helpers
</span><span class='line'>  create vendor/extensions/session_management/app/models
</span><span class='line'>  create vendor/extensions/session_management/app/views
</span><span class='line'>  create vendor/extensions/session_management/db/migrate
</span><span class='line'>  create vendor/extensions/session_management/lib/tasks
</span><span class='line'>  create vendor/extensions/session_management/README
</span><span class='line'>  create vendor/extensions/session_management/session_management_extension.rb
</span><span class='line'>  create vendor/extensions/session_management/lib/tasks/session_management_extension_tasks.rake
</span><span class='line'>  create vendor/extensions/session_management/spec/controllers
</span><span class='line'>  create vendor/extensions/session_management/spec/models
</span><span class='line'>  create vendor/extensions/session_management/spec/views
</span><span class='line'>  create vendor/extensions/session_management/spec/helpers
</span><span class='line'>  create vendor/extensions/session_management/features/support
</span><span class='line'>  create vendor/extensions/session_management/features/step_definitions/admin
</span><span class='line'>  create vendor/extensions/session_management/Rakefile
</span><span class='line'>  create vendor/extensions/session_management/spec/spec_helper.rb
</span><span class='line'>  create vendor/extensions/session_management/spec/spec.opts
</span><span class='line'>  create vendor/extensions/session_management/cucumber.yml
</span><span class='line'>  create vendor/extensions/session_management/features/support/env.rb
</span><span class='line'>  create vendor/extensions/session_management/features/support/paths.rb</span></code></pre></td></tr></table></div></figure>


<p>Edit <code>session_management_extension.rb</code> where extension version, description, and website url can be added.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># require_dependency &#39;application_controller&#39;</span>
</span><span class='line'><span class="k">class</span> <span class="nc">SessionManagementExtension</span> <span class="o">&lt;</span> <span class="ss">Radiant</span><span class="p">:</span><span class="ss">:Extension</span>
</span><span class='line'>  <span class="n">version</span> <span class="s2">&quot;1.0&quot;</span>
</span><span class='line'>  <span class="n">description</span> <span class="s2">&quot;Describe your extension here&quot;</span>
</span><span class='line'>  <span class="n">url</span> <span class="s2">&quot;http://yourwebsite.com/session_management&quot;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># define_routes do |map|</span>
</span><span class='line'>  <span class="c1"># map.namespace :admin, :member =&gt; { :remove =&gt; :get } do |admin|</span>
</span><span class='line'>  <span class="c1">#     admin.resources :session_management</span>
</span><span class='line'>  <span class="c1"># end</span>
</span><span class='line'>  <span class="c1"># end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">activate</span>
</span><span class='line'>    <span class="c1"># admin.tabs.add &quot;Session Management&quot;, &quot;/admin/session_management&quot;, :after =&gt;</span>
</span><span class='line'><span class="s2">&quot;Layouts&quot;</span><span class="p">,</span> <span class="ss">:visibility</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:all</span><span class="o">]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">deactivate</span>
</span><span class='line'>    <span class="c1"># admin.tabs.remove &quot;Session Management&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>In activate block, specify what are the library files , modules that needs to be activated while application starts. In my case, activate method looks like below..</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">activate</span>
</span><span class='line'>  <span class="c1"># admin.tabs.add &quot;Session Management&quot;, &quot;/admin/session_management&quot;, :after =&gt;</span>
</span><span class='line'><span class="s2">&quot;Layouts&quot;</span><span class="p">,</span> <span class="ss">:visibility</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:all</span><span class="o">]</span>
</span><span class='line'>  <span class="no">ApplicationController</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="ss">:include</span><span class="p">,</span> <span class="ss">SessionManagementExt</span><span class="p">:</span><span class="ss">:ApplicationControllerExt</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Generating models and controllers</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">script</span><span class="o">/</span><span class="n">generate</span> <span class="n">extension_model</span> <span class="n">session_management</span> <span class="n">session_info</span>
</span><span class='line'><span class="n">session_id</span><span class="ss">:string</span> <span class="ss">url</span><span class="p">:</span><span class="n">string</span> <span class="ss">ip</span><span class="p">:</span><span class="n">string</span>
</span></code></pre></td></tr></table></div></figure>


<p>In above command first attribute is the extension name and next is model name and rest specifies attributes that needs to created. It will create</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">exists</span>   <span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span>
</span><span class='line'>     <span class="n">exists</span>   <span class="n">spec</span><span class="o">/</span><span class="n">models</span><span class="o">/</span>
</span><span class='line'>     <span class="n">create</span>   <span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">session_info</span><span class="o">.</span><span class="n">rb</span>
</span><span class='line'>     <span class="n">create</span>   <span class="n">spec</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">session_info_spec</span><span class="o">.</span><span class="n">rb</span>
</span><span class='line'>     <span class="n">exists</span>   <span class="n">db</span><span class="o">/</span><span class="n">migrate</span>
</span><span class='line'>     <span class="n">create</span>   <span class="n">db</span><span class="o">/</span><span class="n">migrate</span><span class="o">/</span><span class="mi">20091110075042</span><span class="n">_create_session_infos</span><span class="o">.</span><span class="n">rb</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Generating controller</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">script</span><span class="o">/</span><span class="n">generate</span> <span class="n">extension_controller</span> <span class="n">session_management</span> <span class="n">admin</span><span class="o">/</span><span class="n">session_managements</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will create an output</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">create</span> <span class="n">app</span><span class="o">/</span><span class="n">controllers</span><span class="o">/</span><span class="n">admin</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">app</span><span class="o">/</span><span class="n">helpers</span><span class="o">/</span><span class="n">admin</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">app</span><span class="o">/</span><span class="n">views</span><span class="o">/</span><span class="n">admin</span><span class="o">/</span><span class="n">session_managements</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">spec</span><span class="o">/</span><span class="n">controllers</span><span class="o">/</span><span class="n">admin</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">spec</span><span class="o">/</span><span class="n">helpers</span><span class="o">/</span><span class="n">admin</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">spec</span><span class="o">/</span><span class="n">views</span><span class="o">/</span><span class="n">admin</span><span class="o">/</span><span class="n">session_managements</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">spec</span><span class="o">/</span><span class="n">controllers</span><span class="o">/</span><span class="n">admin</span><span class="o">/</span><span class="n">session_managements_controller_spec</span><span class="o">.</span><span class="n">rb</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">spec</span><span class="o">/</span><span class="n">helpers</span><span class="o">/</span><span class="n">admin</span><span class="o">/</span><span class="n">session_managements_helper_spec</span><span class="o">.</span><span class="n">rb</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">app</span><span class="o">/</span><span class="n">controllers</span><span class="o">/</span><span class="n">admin</span><span class="o">/</span><span class="n">session_managements_controller</span><span class="o">.</span><span class="n">rb</span>
</span><span class='line'>     <span class="n">create</span> <span class="n">app</span><span class="o">/</span><span class="n">helpers</span><span class="o">/</span><span class="n">admin</span><span class="o">/</span><span class="n">session_managements_helper</span><span class="o">.</span><span class="n">rb</span>
</span></code></pre></td></tr></table></div></figure>


<p>Modify session managements controller for displaying sesssion infos tracked.</p>

<p>We need before filter for every request that will capture <code>session</code>, <code>ip</code> and <code>page url</code>.
so we need to override behaviour of application controller to add before_filter</p>

<p>We have already added <code>ApplicationControllerExt</code> in activate of extension.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">ApplicationController</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="ss">:include</span><span class="p">,</span> <span class="ss">SessionManagementExt</span><span class="p">:</span><span class="ss">:ApplicationControllerExt</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Lets look into ApplicationControllerExt module.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">SessionManagementExt</span>
</span><span class='line'>  <span class="k">module</span> <span class="nn">ApplicationControllerExt</span>
</span><span class='line'>    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">included</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
</span><span class='line'>     <span class="n">base</span><span class="o">.</span><span class="n">class_eval</span> <span class="k">do</span>
</span><span class='line'>       <span class="n">before_filter</span> <span class="ss">:track_session</span>
</span><span class='line'>     <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">track_session</span>
</span><span class='line'>     <span class="c1">#**&quot;Hello from Session tracker !!!&quot;**</span>
</span><span class='line'>     <span class="c1">#TODO: location track</span>
</span><span class='line'>     <span class="c1"># It can be delayed task</span>
</span><span class='line'>     <span class="c1">#sudo gem install geoip_city -- --with-geoip-dir=/opt/GeoIP</span>
</span><span class='line'>     <span class="c1"># require &#39;geoip_city&#39;</span>
</span><span class='line'>     <span class="c1"># g = GeoIPCity::Database.new(&#39;/opt/GeoIP/share/GeoIP/GeoLiteCity.dat&#39;)</span>
</span><span class='line'>     <span class="c1"># res = g.look_up(&#39;201.231.22.125&#39;)</span>
</span><span class='line'>     <span class="c1"># {:latitude=&gt;-33.13330078125, :country_code3=&gt;&quot;ARG&quot;,</span>
</span><span class='line'><span class="ss">:longitude</span><span class="o">=&gt;-</span><span class="mi">64</span><span class="o">.</span><span class="mi">3499984741211</span><span class="p">,</span> <span class="ss">:city</span><span class="o">=&gt;</span><span class="s2">&quot;Río Cuarto&quot;</span><span class="p">,</span> <span class="ss">:country_name</span><span class="o">=&gt;</span><span class="s2">&quot;Argentina&quot;</span><span class="p">,</span>
</span><span class='line'><span class="ss">:country_code</span><span class="o">=&gt;</span><span class="s2">&quot;AR&quot;</span><span class="p">,</span> <span class="ss">:region</span><span class="o">=&gt;</span><span class="s2">&quot;05&quot;</span><span class="p">}</span>
</span><span class='line'>     <span class="no">SessionInfo</span><span class="o">.</span><span class="n">create</span><span class="p">(</span> <span class="ss">:ip</span> <span class="o">=&gt;</span> <span class="n">request</span><span class="o">.</span><span class="n">remote_ip</span><span class="p">,</span> <span class="ss">:page_url</span> <span class="o">=&gt;</span>
</span><span class='line'><span class="s2">&quot;http://</span><span class="si">#{</span><span class="n">request</span><span class="o">.</span><span class="n">env</span><span class="o">[</span><span class="s2">&quot;HTTP_HOST&quot;</span><span class="o">]</span><span class="si">}#{</span><span class="n">request</span><span class="o">.</span><span class="n">request_uri</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="ss">:session_id</span> <span class="o">=&gt;</span>
</span><span class='line'><span class="n">request</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">session_id</span> <span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s all! Creating rake task for extension module here is default genrated rake task for session management under <code>vendor/extensions/session_management/lib/tasks/session_management_extension_tasks.rake</code>. It includes task to migrate database and update extension</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">namespace</span> <span class="ss">:radiant</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">namespace</span> <span class="ss">:extensions</span> <span class="k">do</span>
</span><span class='line'>    <span class="n">namespace</span> <span class="ss">:session_management</span> <span class="k">do</span>
</span><span class='line'>     <span class="n">desc</span> <span class="s2">&quot;Runs the migration of the Session Management extension&quot;</span>
</span><span class='line'>     <span class="n">task</span> <span class="ss">:migrate</span> <span class="o">=&gt;</span> <span class="ss">:environment</span> <span class="k">do</span>
</span><span class='line'>       <span class="nb">require</span> <span class="s1">&#39;radiant/extension_migrator&#39;</span>
</span><span class='line'>       <span class="k">if</span> <span class="no">ENV</span><span class="o">[</span><span class="s2">&quot;VERSION&quot;</span><span class="o">]</span>
</span><span class='line'>         <span class="no">SessionManagementExtension</span><span class="o">.</span><span class="n">migrator</span><span class="o">.</span><span class="n">migrate</span><span class="p">(</span><span class="no">ENV</span><span class="o">[</span><span class="s2">&quot;VERSION&quot;</span><span class="o">].</span><span class="n">to_i</span><span class="p">)</span>
</span><span class='line'>       <span class="k">else</span>
</span><span class='line'>         <span class="no">SessionManagementExtension</span><span class="o">.</span><span class="n">migrator</span><span class="o">.</span><span class="n">migrate</span>
</span><span class='line'>       <span class="k">end</span>
</span><span class='line'>     <span class="k">end</span>
</span><span class='line'>     <span class="n">desc</span> <span class="s2">&quot;Copies public assets of the Session Management to the instance public/ directory.&quot;</span>
</span><span class='line'>     <span class="n">task</span> <span class="ss">:update</span> <span class="o">=&gt;</span> <span class="ss">:environment</span> <span class="k">do</span>
</span><span class='line'>       <span class="n">is_svn_or_dir</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span><span class="o">|</span><span class="n">path</span><span class="o">|</span> <span class="n">path</span> <span class="o">=~</span> <span class="sr">/\.svn/</span> <span class="o">||</span> <span class="no">File</span><span class="o">.</span><span class="n">directory?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>       <span class="nb">puts</span> <span class="s2">&quot;Copying assets from SessionManagementExtension&quot;</span>
</span><span class='line'>       <span class="no">Dir</span><span class="o">[</span><span class="no">SessionManagementExtension</span><span class="o">.</span><span class="n">root</span> <span class="o">+</span> <span class="s2">&quot;/public/**/*&quot;</span><span class="o">].</span><span class="n">reject</span><span class="p">(</span><span class="o">&amp;</span><span class="n">is_svn_or_dir</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span>
</span><span class='line'><span class="o">|</span><span class="n">file</span><span class="o">|</span>
</span><span class='line'>         <span class="n">path</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="no">SessionManagementExtension</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span class='line'>         <span class="n">directory</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span class='line'>         <span class="n">mkdir_p</span> <span class="no">RAILS_ROOT</span> <span class="o">+</span> <span class="n">directory</span><span class="p">,</span> <span class="ss">:verbose</span> <span class="o">=&gt;</span> <span class="kp">false</span>
</span><span class='line'>         <span class="n">cp</span> <span class="n">file</span><span class="p">,</span> <span class="no">RAILS_ROOT</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="ss">:verbose</span> <span class="o">=&gt;</span> <span class="kp">false</span>
</span><span class='line'>       <span class="k">end</span>
</span><span class='line'>     <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Add as many custom tasks needed inside this file without changing default tasks.
Migrate all radiant extensions</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="ss">db</span><span class="p">:</span><span class="ss">migrate</span><span class="p">:</span><span class="n">extensions</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/remote-access-remote-copy-compress-decompress-on-linux/">remote access, remote copy and files compress, decompress on linux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-06T18:12:00+05:30" pubdate data-updated="true">Nov 6<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Remote Login</h2>

<p><code>ssh</code> client is a program for logging into remote system and execute commands on that system</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh [-l login_name ] hostname | user@hostname [command ]
</span><span class='line'>
</span><span class='line'># other options
</span><span class='line'>ssh [-afgknqstvxACNTX1246 ] [-b bind_address ] [-c cipher_spec ] 
</span><span class='line'>[-e escape_char ] [-i identity_file ] [-l login_name ] [-m mac_spec ] 
</span><span class='line'>[-o option ] [-p port ] [-F configfile ] [-L port host hostport ] 
</span><span class='line'>[-R port host hostport ] [-D port ] hostname | user@hostname [command ]</span></code></pre></td></tr></table></div></figure>


<p>One can use putty for remote login through windows machine</p>

<h2>Remote Copy</h2>

<p><code>scp</code> &ndash; secure copy (remote file copy program) that copies file between computers over network</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>scp source[ source file path] destination[user@funonrails.com:/home]
</span><span class='line'>
</span><span class='line'># Other options
</span><span class='line'>[-F ssh_config ] [-S program ] [-P port ] [-c cipher ] [-i identity_file ] 
</span><span class='line'>[-o ssh_option ] [[user@ ] host1 : file1 ] [... ] [[user@ ] host2 : file2 ]</span></code></pre></td></tr></table></div></figure>


<p>On windows system <code>pscp.exe</code> can be used for remote copy</p>

<h2>Compress</h2>

<p><code>tar</code> is a package that allows you to compress direcory or file</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tar czfv Test.tar.tgz Test/</span></code></pre></td></tr></table></div></figure>


<h2>Decompress</h2>

<p><code>gzip</code> is a package that allows to extract compressed file/directories.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gzip -dc target.tar.tgz | tar xf -</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/13/">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/page/11/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/03/api-authentication-using-devise-token/">Grape API authentication using Devise Auth Token</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/building-restful-api-using-grape-in-rails/">Building RESTful API using Grape in Rails</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/understanding-restful-vs-soap-web-services/">Understanding RESTful vs SOAP web services</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/moving-from-blogspot-to-octopress/">Migrating from blogspot to octopress</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/writing-octopress-blog-posts-using-markdown/">Writing Octopress blog posts using markdown</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sandipransing">@sandipransing</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sandipransing',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2009 - 2014 - sandipransing -
  <span class="credit">Powered by <a href="http://octopress.org" target='_blank'>Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace" target='_blank'>Whitespace</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'funonrails';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>








  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
