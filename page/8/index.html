
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A Ruby and Rails Blog | Fun On Rails</title>
  <meta name="author" content="sandipransing">

  
  <meta name="description" content="Journal of a web developer containing learnings and experiences while developing with ruby, rails, JS and linux">
  <meta name="keywords" content="ruby, rails, gems, plugins, radiant, cms, SEO, geokit, asterisk, adhearsion, pdf, prawn, ubuntu, vim, linux, jQuery, sass, haml, nginx, passenger">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://funonrails.com/page/8">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/funonrails" rel="alternate" title="Fun On Rails" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48366424-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Fun On Rails</a></h1>
  
    <h2>Journal of a Web Developer #ruby #rails #JS</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.feedburner.com/funonrails" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=funonrails&amp;loc=en_US" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:funonrails.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  

  
    <a href="http://feedburner.google.com/fb/a/mailverify?uri=funonrails&amp;loc=en_US" style="float:right"><img src="http://feeds.feedburner.com/~fc/funonrails?bg=CC3300&amp;fg=000000&amp;anim=0" height="26" width="88" style="border:0" /></a>
  


<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/assets/sandipransing_cv.pdf" target='_blank'>CV</a></li>
  <li><a href="/ruby-on-rails-developers-in-india">ROR devs in india</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/inspirational-quotes-of-the-day">Inspirational Quotes</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/08/spell-check-in-ruby-and-rails-using/">Spell Check in ruby and rails using BOSSMan</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-04T02:26:00+05:30" pubdate data-updated="true">Aug 4<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Wrong English is an often problem while developing any website product as it gives bad view to website user and thus does direct impact on product. <strong>BOSSMan</strong> is a ruby gem that interacts with <strong>yahoo web service</strong> and provides a simplest way to overcome such errors.</p>

<h4>Installation:</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem sources -a http://gems.github.com
</span><span class='line'>gem install jpignata-bossman</span></code></pre></td></tr></table></div></figure>


<p>Apply and get Application ID from yahoo developer network</p>

<p><code>URl https://developer.apps.yahoo.com/</code></p>

<p>Make sure to note it for reference</p>

<p>Usage in ruby app</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;rubygems&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;bossman&#39;</span>
</span><span class='line'><span class="kp">include</span> <span class="no">BOSSMan</span>
</span><span class='line'>
</span><span class='line'><span class="no">BOSSMan</span><span class="o">.</span><span class="n">application_id</span> <span class="o">=</span> <span class="s2">&quot;Your Application ID here&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Spelling Suggestions</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">text</span> <span class="o">=</span> <span class="ss">BOSSMan</span><span class="p">:</span><span class="ss">:Search</span><span class="o">.</span><span class="n">spelling</span><span class="p">(</span><span class="s2">&quot;gooogle&quot;</span><span class="p">)</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="c1">#{&quot;resultset_spell&quot;=&gt;[{&quot;suggestion&quot;=&gt;&quot;google&quot;}], &quot;responsecode&quot;=&gt;&quot;200&quot;, &quot;deephits&quot;=&gt;&quot;1&quot;, &quot;start&quot;=&gt;&quot;0&quot;, &quot;count&quot;=&gt;&quot;1&quot;, &quot;totalhits&quot;=&gt;&quot;1&quot;}}&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">text</span><span class="o">.</span><span class="n">suggestion</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="s2">&quot;google&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>More sophisticated way of use &ndash;</p>

<ol>
<li>Create a YML file containing list of kewords</li>
<li>Load YML file</li>
<li>Iterate YML hash to find out spell suggestions
<strong>Example: spelling.yml</strong></li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="mi">1</span> <span class="ss">keywords</span><span class="p">:</span>
</span><span class='line'>  <span class="mi">2</span>   <span class="ss">gooogle</span><span class="p">:</span>
</span><span class='line'>  <span class="mi">3</span>   <span class="no">Barack</span> <span class="ss">Oabama</span><span class="p">:</span>
</span><span class='line'>  <span class="mi">4</span>   <span class="ss">Indian</span><span class="p">:</span>
</span><span class='line'>  <span class="mi">5</span>   <span class="ss">Latuur</span><span class="p">:</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">keywords</span> <span class="o">=</span> <span class="no">YAML</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="s1">&#39;spelling.yml&#39;</span><span class="p">)</span><span class="o">[</span><span class="s1">&#39;keywords&#39;</span><span class="o">].</span><span class="n">keys</span>
</span><span class='line'>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;Correction suggested&quot;</span>
</span><span class='line'>  <span class="n">keywords</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">keyword</span><span class="o">|</span>
</span><span class='line'>    <span class="n">text</span> <span class="o">=</span> <span class="ss">BOSSMan</span><span class="p">:</span><span class="ss">:Search</span><span class="o">.</span><span class="n">spelling</span><span class="p">(</span><span class="n">keyword</span><span class="p">)</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">defined?</span> <span class="n">text</span><span class="o">.</span><span class="n">suggestion</span>
</span><span class='line'>      <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">keyword</span><span class="si">}</span><span class="s2"> =&gt; </span><span class="si">#{</span><span class="n">text</span><span class="o">.</span><span class="n">suggestion</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Output</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Correction</span> <span class="n">suggested</span>
</span><span class='line'><span class="n">gooogle</span> <span class="o">=&gt;</span> <span class="n">google</span>
</span><span class='line'><span class="no">Barack</span> <span class="no">Oabama</span> <span class="o">=&gt;</span> <span class="no">Barack</span> <span class="no">Obama</span>
</span><span class='line'><span class="no">Latuur</span> <span class="o">=&gt;</span> <span class="no">Latour</span>
</span></code></pre></td></tr></table></div></figure>


<p>Analyze suggestions manually and make neccesary corrections..</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/08/rails-3-beautiful-code/">Rails 3 Beautiful Code</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-02T14:57:00+05:30" pubdate data-updated="true">Aug 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Check out this SlideShare Presentation: <div style="width:425px" id="__ss_3219240"><strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/GreggPollack/rails-3-beautiful-code-3219240" title="Rails 3 Beautiful Code">Rails 3 Beautiful Code</a></strong><object id="__sse3219240" width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=beautifulcodeinrails3-greggpollack-100218130149-phpapp02&stripped_title=rails-3-beautiful-code-3219240" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed name="__sse3219240" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=beautifulcodeinrails3-greggpollack-100218130149-phpapp02&stripped_title=rails-3-beautiful-code-3219240" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object><div style="padding:5px 0 12px">View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/GreggPollack">GreggPollack</a>.</div></div></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/08/pdf-in-rails-using-prawn-library/">PDF in rails using prawn library</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-01T16:45:00+05:30" pubdate data-updated="true">Aug 1<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Building PDF Document in ruby &amp; rails application using prawn Library
<strong>Brief</strong>. Before getting started with this tutorial, I would like to thanks <strong>Greg and
Prawn team</strong> for their awesome work towards ruby and rails community</p>

<h2>Installing prawn (core, layout, format, security)</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install prawn</span></code></pre></td></tr></table></div></figure>


<p>or
Add following line in rails environment file inside initializer block</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>config.gem 'prawn'</span></code></pre></td></tr></table></div></figure>


<p>Optionally you can specify version to be used and then run task</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake gems:install</span></code></pre></td></tr></table></div></figure>


<p>Generating pdf using rails console</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby script/console
</span><span class='line'>pdf = Prawn::Document.new</span></code></pre></td></tr></table></div></figure>


<p>It creates new pdf document object. Here you can additionally pass options parameters such as &ndash;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="ss">Prawn</span><span class="p">:</span><span class="ss">:Document</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:page_size</span>   <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">11</span><span class="o">.</span><span class="mi">32</span><span class="p">,</span> <span class="mi">8</span><span class="o">.</span><span class="mi">49</span><span class="o">]</span><span class="p">,</span> <span class="ss">:page_layout</span> <span class="o">=&gt;</span> <span class="ss">:portrait</span><span class="p">)</span>
</span><span class='line'><span class="ss">Prawn</span><span class="p">:</span><span class="ss">:Document</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">A0</span><span class="p">)</span> <span class="no">Here</span> <span class="no">A0</span> <span class="n">is</span> <span class="n">page</span> <span class="n">size</span><span class="o">.</span>
</span><span class='line'><span class="ss">Prawn</span><span class="p">:</span><span class="ss">:Document</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:page_layout</span> <span class="o">=&gt;</span> <span class="ss">:portrait</span><span class="p">,</span>
</span><span class='line'>                     <span class="ss">:left_margin</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="o">.</span><span class="n">mm</span><span class="p">,</span>    <span class="c1"># different</span>
</span><span class='line'>                     <span class="ss">:right_margin</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="n">cm</span><span class="p">,</span>    <span class="c1"># units</span>
</span><span class='line'>                     <span class="ss">:top_margin</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="n">dm</span><span class="p">,</span>    <span class="c1"># work</span>
</span><span class='line'>                     <span class="ss">:bottom_margin</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">01</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="c1"># well</span>
</span><span class='line'>                     <span class="ss">:page_size</span> <span class="o">=&gt;</span> <span class="s1">&#39;A4&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">pdf</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;Prawn Rocks&quot;</span><span class="p">)</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="mi">12</span>
</span><span class='line'> <span class="n">pdf</span><span class="o">.</span><span class="n">render_file</span><span class="p">(</span><span class="s1">&#39;prawn.pdf&#39;</span><span class="p">)</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="c1">#&lt;file:prawn.pdf (closed)=&quot;&quot;&gt;&lt;/file:prawn.pdf&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here is output file generated
<a href="http://github.com/sandipransing/prawn-example/raw/master/sample/prawn.pdf">click</a></p>

<p>Now let&rsquo;s go through other goodness of prawn library</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">pdf</span>  <span class="o">=</span> <span class="ss">Prawn</span><span class="p">:</span><span class="ss">:Document</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;A3&#39;</span><span class="p">)</span> <span class="k">do</span>
</span></code></pre></td></tr></table></div></figure>


<h2>FONTS</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/font.pdf">click</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># Specify font to be used or specify path to font file.</span>
</span><span class='line'><span class="n">font</span> <span class="s2">&quot;times.ttf&quot;</span>
</span><span class='line'><span class="n">font</span><span class="p">(</span><span class="s2">&quot;/times.ttf&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>TEXT</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/font.pdf">click</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">text</span> <span class="s1">&#39;Sandip Ransing&#39;</span><span class="p">,</span> <span class="ss">:size</span> <span class="o">=&gt;</span> <span class="mi">41</span><span class="p">,</span> <span class="ss">:position</span> <span class="o">=&gt;</span> <span class="ss">:center</span><span class="p">,</span> <span class="ss">:style</span> <span class="o">=&gt;</span> <span class="ss">:bold</span>
</span></code></pre></td></tr></table></div></figure>


<h2>STROKE LINE</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/stroke.pdf">click</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">stroke</span> <span class="k">do</span>
</span><span class='line'>      <span class="n">rectangle</span> <span class="o">[</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="o">]</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span>
</span><span class='line'> <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>IMAGE</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/image.pdf">click</a></p>

<p>Displaying Local file system Image</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">image</span> <span class="s1">&#39;sandip.png&#39;</span><span class="p">,</span> <span class="ss">:height</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span> <span class="ss">:position</span> <span class="o">=&gt;</span> <span class="ss">:center</span><span class="p">,</span> <span class="ss">:border</span> <span class="o">=&gt;</span> <span class="mi">2</span>
</span><span class='line'><span class="no">Scale</span> <span class="no">Image</span>
</span><span class='line'>
</span><span class='line'><span class="n">image</span> <span class="s1">&#39;sandip.png&#39;</span><span class="p">,</span> <span class="ss">:scale</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="ss">:position</span> <span class="o">=&gt;</span> <span class="ss">:left</span>
</span><span class='line'><span class="no">Display</span> <span class="no">Remote</span> <span class="n">image</span> <span class="n">from</span> <span class="no">Internet</span> <span class="n">inside</span> <span class="n">pdf</span>
</span><span class='line'>
</span><span class='line'><span class="nb">require</span> <span class="s2">&quot;open-uri&quot;</span>
</span><span class='line'> <span class="n">image</span> <span class="nb">open</span><span class="p">(</span><span class="err">&#39;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//</span><span class="n">t2</span><span class="o">.</span><span class="n">gstatic</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">images?q</span><span class="o">=</span><span class="ss">tbn</span><span class="p">:</span><span class="ss">kTG6gAKrnou2gM</span><span class="p">:</span><span class="ss">http</span><span class="p">:</span><span class="sr">//</span><span class="n">www</span><span class="o">.</span><span class="n">facebook</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">profile</span><span class="o">/</span><span class="n">pic</span><span class="o">.</span><span class="n">php?uid</span><span class="o">=</span><span class="no">AAAAAQAQrLXvTWfyY2ANjttV8D1c0QAAAAnDHPFJe0pPFR84iIzXPKro</span><span class="o">&amp;</span><span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="s2">&quot;)</span>
</span><span class='line'><span class="s2">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>LINE BREAKS</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">movedown</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>TABLE/GRID</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/table.pdf">click</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">data</span> <span class="o">=</span> <span class="o">[</span>
</span><span class='line'>    <span class="o">[</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sandip Ransing&#39;</span><span class="p">,</span> <span class="ss">:font_style</span> <span class="o">=&gt;</span> <span class="ss">:bold</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">4</span> <span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>    <span class="o">[</span><span class="s2">&quot;Address&quot;</span><span class="p">,</span> <span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s1">&#39;SHIVAJINAGAR, PUNE 411005&#39;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">4</span> <span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>    <span class="o">[</span><span class="s2">&quot;Landmark&quot;</span><span class="p">,{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s1">&#39;NEAR FC COLLEGE&#39;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">4</span> <span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>    <span class="o">[</span><span class="s2">&quot;Mobile&quot;</span><span class="p">,</span><span class="s2">&quot;9860648108&quot;</span><span class="p">,</span> <span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">3</span> <span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>    <span class="o">[</span><span class="s2">&quot;Education&quot;</span><span class="p">,</span> <span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;Bachelor in Computer Engineering&quot;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">4</span> <span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>      <span class="o">[</span><span class="s2">&quot;Vehicle&quot;</span><span class="p">,</span> <span class="s1">&#39;Hero Honda&#39;</span><span class="p">,</span><span class="s2">&quot;Reg. No.&quot;</span><span class="p">,</span> <span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;MH 12 EN 921&quot;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">3</span> <span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>      <span class="o">[</span><span class="s2">&quot;Additional&quot;</span><span class="p">,</span> <span class="s2">&quot;GDCA&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s1">&#39;First&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>      <span class="o">[</span><span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;Areas of Speciality&quot;</span><span class="p">,</span> <span class="ss">:font_style</span> <span class="o">=&gt;</span> <span class="ss">:bold</span><span class="p">},</span> <span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;Ruby, Rails, Radiant, Asterisk, Adhearsion, Geokit, Prawn, ....,...&quot;</span><span class="p">,</span> <span class="ss">:font_style</span> <span class="o">=&gt;</span> <span class="ss">:bold</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>      <span class="o">[</span><span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;Website&quot;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">},{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;www.funonrails.com&quot;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">}</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>      <span class="o">[</span><span class="p">{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;Company&quot;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">},{</span><span class="ss">:text</span> <span class="o">=&gt;</span> <span class="s2">&quot;Josh Software&quot;</span><span class="p">,</span> <span class="ss">:colspan</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">}</span><span class="o">]</span>
</span><span class='line'>  <span class="o">]</span>
</span><span class='line'><span class="n">table</span> <span class="n">data</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:border_style</span> <span class="o">=&gt;</span> <span class="ss">:grid</span><span class="p">,</span> <span class="c1">#:underline_header</span>
</span><span class='line'>    <span class="ss">:font_size</span>  <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:horizontal_padding</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:vertical_padding</span>   <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:border_width</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">7</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:column_widths</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="mi">0</span> <span class="o">=&gt;</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">4</span> <span class="o">=&gt;</span> <span class="mi">80</span> <span class="p">},</span>
</span><span class='line'>    <span class="ss">:position</span> <span class="o">=&gt;</span> <span class="ss">:left</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:align</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="mi">0</span> <span class="o">=&gt;</span> <span class="ss">:left</span><span class="p">,</span> <span class="mi">1</span> <span class="o">=&gt;</span> <span class="ss">:right</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=&gt;</span> <span class="ss">:left</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="ss">:right</span><span class="p">,</span> <span class="mi">4</span> <span class="o">=&gt;</span> <span class="ss">:right</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>LINKS</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/link.pdf">click</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">link_annotation</span><span class="p">(</span><span class="o">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">40</span><span class="o">]</span><span class="p">,</span><span class="ss">:Border</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span> <span class="ss">:A</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:Type</span> <span class="o">=&gt;</span> <span class="ss">:Action</span><span class="p">,</span> <span class="ss">:S</span> <span class="o">=&gt;</span> <span class="ss">:URI</span><span class="p">,</span> <span class="ss">:URI</span> <span class="o">=&gt;</span> <span class="ss">Prawn</span><span class="p">:</span><span class="ss">:LiteralString</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;http://twitter.com/sandipransing&quot;</span><span class="p">)</span> <span class="p">}</span> <span class="p">)</span>
</span><span class='line'><span class="n">link_annotation</span><span class="p">((</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="o">]</span><span class="p">),</span> <span class="ss">:Border</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span> <span class="ss">:Dest</span> <span class="o">=&gt;</span> <span class="n">s</span><span class="s2">&quot;http://funonrails.com&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>PDF Security</h2>

<p><a href="http://github.com/sandipransing/prawn-example/raw/master/sample/secure.pdf">click</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">encrypt_document</span> <span class="ss">:user_password</span> <span class="o">=&gt;</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="ss">:owner_password</span> <span class="o">=&gt;</span> <span class="s1">&#39;railer&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="ss">:permissions</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:print_document</span> <span class="o">=&gt;</span> <span class="kp">false</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Prawn Inline Formatting</h2>

<p>Prawn-format supports inline text formatting that gives user enough flexibility to use html tags</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;prawn/format&#39;</span>
</span><span class='line'><span class="n">text</span> <span class="s1">&#39;This is Strong  text&#39;</span><span class="p">,</span> <span class="ss">:inline_format</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span><span class='line'><span class="n">text</span> <span class="s1">&#39;This is bold text \n It should be on newline.&#39;</span><span class="p">,</span> <span class="ss">:inline_format</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span></code></pre></td></tr></table></div></figure>


<h2>SAVE Generated PDF</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">end</span>
</span><span class='line'><span class="n">pdf</span><span class="o">.</span><span class="n">render_file</span> <span class="s1">&#39;my.pdf&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>!!! NOTE: As of time now &lsquo;prawn-format&rsquo; is incompatible with latest prawn gem, It is compatible with prawn version &lt;= 0.6 s</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/05/specify-rails-version-to-use-while/">Specify rails version to new rails app</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-07T18:40:00+05:30" pubdate data-updated="true">May 7<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>On my development machine, I have rails versions installed ranging from rails <code>1.2.3</code> to <code>2.3</code>
How do i create new rails app that will use <code>rails 2.1.0</code>
Create new app with rails version <code>2.1.0</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails _2.1.0_ simple_blog</span></code></pre></td></tr></table></div></figure>


<p>Specify database to use while creating new rails app</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails _2.1.0_ simple_blog -d mysql</span></code></pre></td></tr></table></div></figure>


<h2>Comments</h2>

<p>sitemap « Fun On Rails</p>

<p>[…] Specify rails version to use while creating rails project « Fun On Rails […]</p>

<p>sandipransing</p>

<p>specify database while creating rails application</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails demo -d 
</span><span class='line'>rails _2.1.0_ my_rails_app -d mysql</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/04/using-modules-and-mixins-in-ruby/">using modules and mixins in ruby</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-28T18:11:00+05:30" pubdate data-updated="true">Apr 28<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Before getting started with modules and mixins, lets first find out the need of module &amp; mixins in OOP.</p>

<p>In object oriented programming languages multiple inheritance is basic paradigm (child class extends behavior of base class).</p>

<p>C++ supports multiple inheritance. Java does support same using interfaces.</p>

<p>In ruby language, multiple inheritance is achieved very easily using mixin of modules &amp; classes and that makes ruby as powerful language.</p>

<p>Ruby has classes, modules. Modules can be included inside other classes (mixins) to achieve multiple inheritance.</p>

<h2>Modules</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="k">module</span> <span class="nn">Greeting</span>
</span><span class='line'>    <span class="c1"># here below is the instance method</span>
</span><span class='line'>    <span class="c1"># and that can be accessed using object of class ONLY</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">hi</span>
</span><span class='line'>      <span class="nb">puts</span> <span class="s1">&#39;Guest&#39;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Module methods can be called using scope resolution operator (::) or dot operator (.)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="ss">Greeting</span><span class="p">:</span><span class="ss">:hi</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># =&gt; undefined method `hi&#39; for Greeting:Module (NoMethodError)</span>
</span></code></pre></td></tr></table></div></figure>


<p>It is obivous to have an error because we are calling class method and that is not present inside module.</p>

<h2>Mixins</h2>

<p>Lets include greeting module inside person class</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Person</span>
</span><span class='line'>  <span class="kp">include</span> <span class="no">Greeting</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">person</span><span class="o">.</span><span class="n">hi</span> <span class="c1">#=&gt; &quot;Guest&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Lets see how module methods can be defined. It can be done using either self or class_name.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">Greeting</span>
</span><span class='line'>  <span class="c1"># here below is the instance method</span>
</span><span class='line'>  <span class="c1"># and that can be accessed using object of class ONLY</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">hi</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s1">&#39;Guest&#39;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="c1"># Below are module methods</span>
</span><span class='line'>  <span class="c1"># this methods can be invoked</span>
</span><span class='line'>  <span class="c1"># using Greeting::hi</span>
</span><span class='line'>  <span class="c1"># OR Greeting.hi</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">hi</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s1">&#39;hi Sandip&#39;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="c1"># here is one more way to declare</span>
</span><span class='line'>  <span class="c1"># module methods</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">Greeting</span><span class="o">.</span><span class="nf">bye</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s1">&#39;Bye Sandip!&#39;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Lets invoke methods</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="ss">Greeting</span><span class="p">:</span><span class="ss">:hi</span> <span class="c1">#=&gt; &quot;hi Sandip&quot;</span>
</span><span class='line'><span class="no">Greeting</span><span class="o">.</span><span class="n">bye</span> <span class="c1">#=&gt; &quot;Bye Sandip!&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h4>Extending class behavior using modules</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Person</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">included</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
</span><span class='line'>    <span class="n">base</span><span class="o">.</span><span class="n">extend</span> <span class="no">Greeting</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Got easy ?? Cheers!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/04/using-thinking-sphinx-search-in-rails/">using thinking sphinx search in rails app</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-12T19:07:00+05:30" pubdate data-updated="true">Apr 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am using <em>acts_as_ferret</em> and <em>ferret server</em> as of now with my rails application and it just works fine for me. The ONLY problem is <strong>performance</strong> as it takes a lot time to build index and to rebuild index when it gets screwed up and that&rsquo;s where <strong>sphinx rocks</strong>!</p>

<p>To get started with thinking sphinx you need to install sphinx server first. for installation help click here.</p>

<p>To use sphinx search in rails we need to use either thinking sphinx gem or plugin that can be easily find on github.</p>

<h2>Plugin installation</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby script/plugin install  git://github.com/freelancing-god/thinking-sphinx.git</span></code></pre></td></tr></table></div></figure>


<h4>OR</h4>

<h2>Gem installation</h2>

<p>To install gem run the following command.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install thinking-sphinx --source http://rubygems.org/
</span><span class='line'>
</span><span class='line'>If you're upgrading, you should read this:
</span><span class='line'>http://freelancing-god.github.com/ts/en/upgrading.html
</span><span class='line'>
</span><span class='line'>Successfully installed thinking-sphinx-1.3.16
</span><span class='line'>1 gem installed</span></code></pre></td></tr></table></div></figure>


<p>Edit environment file and add following lines to it inside initializer block.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>config.gem(
</span><span class='line'>     'thinking-sphinx',
</span><span class='line'>      :lib     =&gt; 'thinking_sphinx',
</span><span class='line'>      :version =&gt; '1.3.16'
</span><span class='line'> )</span></code></pre></td></tr></table></div></figure>


<p>Edit Rakefile and add following lines to it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require 'thinking_sphinx/tasks'</span></code></pre></td></tr></table></div></figure>


<p>List rake tasks that should show up sphinx related tasks.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake -T ts
</span><span class='line'>(in /home/sandip/v1)
</span><span class='line'>rake doc:plugins:acts_as_audited  # Generate documentation for the acts_as_...
</span><span class='line'>rake doc:plugins:acts_as_ferret   # Generate documentation for the acts_as_...
</span><span class='line'>rake rails:update:javascripts     # Update your javascripts from your curre...
</span><span class='line'>rake rails:update:scripts         # Add new scripts to the application scri...
</span><span class='line'>rake stats                        # Report code statistics (KLOCs, etc) fro...
</span><span class='line'>rake test:units                   # Run tests for unitsdb:test:prepare / Ru...
</span><span class='line'>rake tmp:sockets:clear            # Clears all files in tmp/sockets
</span><span class='line'>rake ts:conf                      # Generate the Sphinx configuration file ...
</span><span class='line'>rake ts:config                    # Generate the Sphinx configuration file ...
</span><span class='line'>rake ts:in                        # Index data for Sphinx using Thinking Sp...
</span><span class='line'>rake ts:rebuild                   # Stop Sphinx (if it's running), rebuild ...
</span><span class='line'>rake ts:reindex                   # Reindex Sphinx without regenerating the...
</span><span class='line'>rake ts:restart                   # Restart Sphinx / Restart Sphinx
</span><span class='line'>rake ts:run                       # Stop if running, then start a Sphinx se...
</span><span class='line'>rake ts:start                     # Start a Sphinx searchd daemon using Thi...
</span><span class='line'>rake ts:stop                      # Stop Sphinx using Thinking Sphinx's set...
</span><span class='line'>rake ts:version                   # Output the current Thinking Sphinx vers...</span></code></pre></td></tr></table></div></figure>


<h2>Starting Sphinx</h2>

<p>Start sphinx server this should give up an error.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake ts:start
</span><span class='line'>(in /home/sandip/v1)
</span><span class='line'>Failed to start searchd daemon. Check /home/sandip/v1/log/searchd.log.</span></code></pre></td></tr></table></div></figure>


<h2>Adding indexes in models</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">define_index</span> <span class="k">do</span>
</span><span class='line'>     <span class="c1"># following fields are database fields</span>
</span><span class='line'>     <span class="c1"># we can not add model methods in sphinx index </span>
</span><span class='line'>     <span class="c1"># sphinx fields allows ONLY model based associations</span>
</span><span class='line'>     <span class="c1"># fields</span>
</span><span class='line'>      <span class="n">indexes</span> <span class="n">customer_name</span>
</span><span class='line'>      <span class="n">indexes</span> <span class="n">phone</span>
</span><span class='line'>      <span class="n">indexes</span> <span class="n">mobile</span>
</span><span class='line'>      <span class="n">indexes</span> <span class="n">other_phone</span>
</span><span class='line'>      <span class="n">indexes</span> <span class="n">car_make</span>
</span><span class='line'>      <span class="n">indexes</span> <span class="n">car_model</span>
</span><span class='line'>      <span class="n">indexes</span> <span class="n">registration_no</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Configure sphinx</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="ss">ts</span><span class="p">:</span><span class="n">config</span>
</span><span class='line'><span class="no">Generating</span> <span class="no">Configuration</span> <span class="n">to</span> <span class="sr">/home/s</span><span class="n">andip</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">development</span><span class="o">.</span><span class="n">sphinx</span><span class="o">.</span><span class="n">conf</span>
</span><span class='line'><span class="no">Index</span> <span class="n">sphinx</span>
</span><span class='line'>
</span><span class='line'><span class="n">rake</span> <span class="ss">ts</span><span class="p">:</span><span class="k">in</span>
</span><span class='line'><span class="p">(</span><span class="k">in</span> <span class="sr">/home/s</span><span class="n">andip</span><span class="o">/</span><span class="n">v1</span><span class="p">)</span>
</span><span class='line'><span class="no">Generating</span> <span class="no">Configuration</span> <span class="n">to</span> <span class="sr">/home/s</span><span class="n">andip</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">development</span><span class="o">.</span><span class="n">sphinx</span><span class="o">.</span><span class="n">conf</span>
</span><span class='line'><span class="no">Sphinx</span> <span class="mi">0</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">8</span><span class="o">-</span><span class="n">rc2</span> <span class="p">(</span><span class="n">r1234</span><span class="p">)</span>
</span><span class='line'><span class="no">Copyright</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">2008</span><span class="p">,</span> <span class="no">Andrew</span> <span class="no">Aksyonoff</span>
</span><span class='line'>
</span><span class='line'><span class="n">using</span> <span class="n">config</span> <span class="n">file</span> <span class="s1">&#39;/home/sandip/v1/config/development.sphinx.conf&#39;</span><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="n">indexing</span> <span class="n">index</span> <span class="s1">&#39;call_core&#39;</span><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="n">collected</span> <span class="mi">113521</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">2</span><span class="o">.</span><span class="mi">1</span> <span class="no">MB</span>
</span><span class='line'><span class="n">collected</span> <span class="mi">0</span> <span class="kp">attr</span> <span class="n">values</span>
</span><span class='line'><span class="n">sorted</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span> <span class="no">Mvalues</span><span class="p">,</span> <span class="mi">100</span><span class="o">.</span><span class="mi">0</span><span class="o">%</span> <span class="n">done</span>
</span><span class='line'><span class="n">sorted</span> <span class="mi">0</span><span class="o">.</span><span class="mi">3</span> <span class="no">Mhits</span><span class="p">,</span> <span class="mi">100</span><span class="o">.</span><span class="mi">0</span><span class="o">%</span> <span class="n">done</span>
</span><span class='line'><span class="n">total</span> <span class="mi">113521</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">2114790</span> <span class="n">bytes</span>
</span><span class='line'><span class="n">total</span> <span class="mi">6</span><span class="o">.</span><span class="mi">102</span> <span class="n">sec</span><span class="p">,</span> <span class="mi">346589</span><span class="o">.</span><span class="mi">68</span> <span class="n">bytes</span><span class="o">/</span><span class="n">sec</span><span class="p">,</span> <span class="mi">18604</span><span class="o">.</span><span class="mi">78</span> <span class="n">docs</span><span class="o">/</span><span class="n">sec</span>
</span><span class='line'><span class="n">distributed</span> <span class="n">index</span> <span class="s1">&#39;call&#39;</span> <span class="n">can</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">directly</span> <span class="n">indexed</span><span class="p">;</span> <span class="n">skipping</span><span class="o">.</span>
</span><span class='line'><span class="no">Generating</span> <span class="no">Configuration</span> <span class="n">to</span> <span class="sr">/home/s</span><span class="n">andip</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">development</span><span class="o">.</span><span class="n">sphinx</span><span class="o">.</span><span class="n">conf</span>
</span><span class='line'><span class="no">Sphinx</span> <span class="mi">0</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">8</span><span class="o">-</span><span class="n">rc2</span> <span class="p">(</span><span class="n">r1234</span><span class="p">)</span>
</span><span class='line'><span class="no">Copyright</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="mi">2001</span><span class="o">-</span><span class="mi">2008</span><span class="p">,</span> <span class="no">Andrew</span> <span class="no">Aksyonoff</span>
</span><span class='line'>
</span><span class='line'><span class="n">using</span> <span class="n">config</span> <span class="n">file</span> <span class="s1">&#39;/home/sandip/v1/config/development.sphinx.conf&#39;</span><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="n">indexing</span> <span class="n">index</span> <span class="s1">&#39;call_core&#39;</span><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="n">collected</span> <span class="mi">113521</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">2</span><span class="o">.</span><span class="mi">1</span> <span class="no">MB</span>
</span><span class='line'><span class="n">collected</span> <span class="mi">0</span> <span class="kp">attr</span> <span class="n">values</span>
</span><span class='line'><span class="n">sorted</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span> <span class="no">Mvalues</span><span class="p">,</span> <span class="mi">100</span><span class="o">.</span><span class="mi">0</span><span class="o">%</span> <span class="n">done</span>
</span><span class='line'><span class="n">sorted</span> <span class="mi">0</span><span class="o">.</span><span class="mi">3</span> <span class="no">Mhits</span><span class="p">,</span> <span class="mi">100</span><span class="o">.</span><span class="mi">0</span><span class="o">%</span> <span class="n">done</span>
</span><span class='line'><span class="n">total</span> <span class="mi">113521</span> <span class="n">docs</span><span class="p">,</span> <span class="mi">2114790</span> <span class="n">bytes</span>
</span><span class='line'><span class="n">total</span> <span class="mi">3</span><span class="o">.</span><span class="mi">628</span> <span class="n">sec</span><span class="p">,</span> <span class="mi">582909</span><span class="o">.</span><span class="mi">70</span> <span class="n">bytes</span><span class="o">/</span><span class="n">sec</span><span class="p">,</span> <span class="mi">31290</span><span class="o">.</span><span class="mi">34</span> <span class="n">docs</span><span class="o">/</span><span class="n">sec</span>
</span><span class='line'><span class="n">distributed</span> <span class="n">index</span> <span class="s1">&#39;call&#39;</span> <span class="n">can</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">directly</span> <span class="n">indexed</span><span class="p">;</span> <span class="n">skipping</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Search using sphinx</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">ruby</span> <span class="n">script</span> <span class="n">console</span>
</span><span class='line'>
</span><span class='line'><span class="o">&gt;&gt;</span><span class="no">Call</span><span class="o">.</span><span class="n">search</span> <span class="s1">&#39;sandip&#39;</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="c1">#&lt;call 00:00:00&quot;=&quot;&quot; 09:22:35&quot;,=&quot;&quot; 1018,=&quot;&quot; 18:10:00&quot;,=&quot;&quot; 2009-02-10=&quot;&quot; 2009-03-27=&quot;&quot; 2009-04-07=&quot;&quot; 2009-11-18=&quot;&quot; 20:29:06&quot;,=&quot;&quot; 6,=&quot;&quot; created_at:=&quot;&quot; id:=&quot;&quot; insurance_expiry_date:=&quot;&quot; is=&quot;&quot; is_existing_customer:=&quot;&quot; nil,=&quot;&quot; note:=&quot;&quot; phone=&quot;&quot; ringing&quot;,=&quot;&quot; scheduled_at:=&quot;&quot; state_id:=&quot;&quot; station_shift_customer_car_insurance_product_id:=&quot;&quot; updated_at:=&quot;&quot;&gt;, #&lt;call 00:00:00&quot;=&quot;&quot; 11:13:33&quot;,=&quot;&quot; 18:30:00&quot;,=&quot;&quot; 2009-02-10=&quot;&quot; 2009-02-16=&quot;&quot; 2009-04-03=&quot;&quot; 2009-11-18=&quot;&quot; 20:34:52&quot;,=&quot;&quot; 6,=&quot;&quot; 6024,=&quot;&quot; call=&quot;&quot; created&quot;,=&quot;&quot; created_at:=&quot;&quot; customer=&quot;&quot; id:=&quot;&quot; insurance_expiry_date:=&quot;&quot; is_existing_customer:=&quot;&quot; new=&quot;&quot; nil,=&quot;&quot; note:=&quot;&quot; scheduled_at:=&quot;&quot; state_id:=&quot;&quot; station_shift_customer_car_insurance_product_id:=&quot;&quot; updated_at:=&quot;&quot;&gt;] &lt;/call&gt;&lt;/call&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>It returns array of records found. conditions are allowed by sphinx. If you need to add conditions on integer attributes then index block in model needs to have has method like author_id in following.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">define_index</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">indexes</span> <span class="n">content</span>
</span><span class='line'>  <span class="n">indexes</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:sortable</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span><span class='line'>  <span class="n">indexes</span> <span class="n">comments</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:comment_content</span>
</span><span class='line'>  <span class="n">indexes</span> <span class="o">[</span><span class="n">author</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="n">author</span><span class="o">.</span><span class="n">last_name</span><span class="o">]</span><span class="p">,</span> <span class="ss">:as</span> <span class="o">=&gt;</span> <span class="ss">:author_name</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">has</span> <span class="n">author_id</span><span class="p">,</span> <span class="n">created_at</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/04/using-thinking-sphinx-with-rails/">Using Thinking Sphinx with rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-12T18:19:00+05:30" pubdate data-updated="true">Apr 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Check out this SlideShare Presentation: <div style="width:825px" id="__ss_782883"><strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/sazwqa/using-thinking-sphinx-with-rails-presentation" title="Using Thinking Sphinx with rails">Using Thinking Sphinx with rails</a></strong><object width="825" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=sp4-1227528901740588-8&stripped_title=using-thinking-sphinx-with-rails-presentation" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=sp4-1227528901740588-8&stripped_title=using-thinking-sphinx-with-rails-presentation" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="825" height="355"></embed></object><div style="padding:5px 0 12px">View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/sazwqa">saz wqa</a>.</div></div></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/aliasmethod-in-ruby/">alias methods in ruby</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-31T17:46:00+05:30" pubdate data-updated="true">Mar 31<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Alias method in ruby</h2>

<p>Ruby classes provides a alias_method that can be used to reuse the existing methods.
Consider a situation where you need different methods which has same code and ONLY they have different names.</p>

<p>In this case alias_method uses suits best choice instead duplicating same code or writing common method that will get used in all methods, as i did before. Example, I have methods search, home, index all are doing same functionality.</p>

<h2>Old approach</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># URL / </span>
</span><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'> <span class="n">list</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c1"># URL /search</span>
</span><span class='line'><span class="k">def</span> <span class="nf">search</span>
</span><span class='line'> <span class="n">list</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#URL /home </span>
</span><span class='line'><span class="k">def</span> <span class="nf">home</span>
</span><span class='line'> <span class="n">list</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="kp">private</span>
</span><span class='line'><span class="k">def</span> <span class="nf">list</span>
</span><span class='line'><span class="c1"># code here </span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Correct approach in ruby</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'> <span class="c1"># code here </span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="n">alias_method</span> <span class="ss">:home</span><span class="p">,</span> <span class="ss">:index</span>
</span><span class='line'><span class="n">alias_method</span> <span class="ss">:search</span><span class="p">,</span> <span class="ss">:index</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Attributes aliasing in ruby</h2>

<p>Same way one can easily rename existing class attribute names using alias_attribute method.</p>

<h2>alias_attribute(new_name, old_name)</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">alias_attrinute</span> <span class="ss">:username</span><span class="p">,</span> <span class="ss">:login</span>
</span></code></pre></td></tr></table></div></figure>


<h2>More practical use</h2>

<p>while deprecating attributes, methods in gems, plugins, extensions, libraries always use aliases in order to maintain backward compatibility.</p>

<p>Got easy ?? that&rsquo;s where ruby rocks !</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/nginx-and-thin-installation/">nginx and thin installation and configuration</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-26T02:59:00+05:30" pubdate data-updated="true">Mar 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Install nginx server using following command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>apt-get install nginx</span></code></pre></td></tr></table></div></figure>


<p>Edit nginx configuration and add server block inside html block.&nbsp;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>server {
</span><span class='line'>
</span><span class='line'>    listen       80;
</span><span class='line'>    server_name  boost;
</span><span class='line'>
</span><span class='line'>    root /home/sandip/rails_app/public;
</span><span class='line'>
</span><span class='line'>    location / {
</span><span class='line'>
</span><span class='line'>        proxy_set_header  X-Real-IP  $remote_addr;
</span><span class='line'>        proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
</span><span class='line'>        proxy_set_header Host $http_host;
</span><span class='line'>        proxy_redirect off;
</span><span class='line'>
</span><span class='line'>        if (-f $request_filename/index.html) {
</span><span class='line'>            rewrite (.*) $1/index.html break;
</span><span class='line'>        }
</span><span class='line'>
</span><span class='line'>        if (-f $request_filename.html) {
</span><span class='line'>            rewrite (.*) $1.html break;
</span><span class='line'>
</span><span class='line'>        }
</span><span class='line'>
</span><span class='line'>        if (!-f $request_filename) {
</span><span class='line'>            proxy_pass http://thin;
</span><span class='line'>            break;
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    error_page   500 502 503 504  /50x.html;
</span><span class='line'>    location = /50x.html {
</span><span class='line'>
</span><span class='line'>        root   html;
</span><span class='line'>
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>Install thin server as gem</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo gem install thin
</span><span class='line'>Building native extensions.  This could take a while...
</span><span class='line'>Building native extensions.  This could take a while...
</span><span class='line'>
</span><span class='line'>Successfully installed eventmachine-0.12.10
</span><span class='line'>Successfully installed thin-1.2.7
</span><span class='line'>
</span><span class='line'>2 gems installed</span></code></pre></td></tr></table></div></figure>


<h2>Install thin service</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo thin install
</span><span class='line'>Installing thin service at /etc/init.d/thin ...
</span><span class='line'>mkdir -p /etc/init.d
</span><span class='line'>writing /etc/init.d/thin
</span><span class='line'>chmod +x /etc/init.d/thin
</span><span class='line'>mkdir -p /etc/thin</span></code></pre></td></tr></table></div></figure>


<h2>Configure thin to start at system boot</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo /usr/sbin/update-rc.d -f thin defaults</span></code></pre></td></tr></table></div></figure>


<p>Then put your config files in /etc/thin</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo /usr/sbin/update-rc.d -f thin defaults
</span><span class='line'>update-rc.d: warning: thin stop runlevel arguments (0 1 6) do not match LSB Default-Stop values (S 0 1 6)
</span><span class='line'> Adding system startup for /etc/init.d/thin ...
</span><span class='line'>
</span><span class='line'>   /etc/rc0.d/K20thin -&gt; ../init.d/thin
</span><span class='line'>   /etc/rc1.d/K20thin -&gt; ../init.d/thin
</span><span class='line'>   /etc/rc6.d/K20thin -&gt; ../init.d/thin
</span><span class='line'>   /etc/rc2.d/S20thin -&gt; ../init.d/thin
</span><span class='line'>   /etc/rc3.d/S20thin -&gt; ../init.d/thin
</span><span class='line'>   /etc/rc4.d/S20thin -&gt; ../init.d/thin
</span><span class='line'>   /etc/rc5.d/S20thin -&gt; ../init.d/thin</span></code></pre></td></tr></table></div></figure>


<p>Create thin configuration</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo thin config -C /etc/thin/&lt;config-name&gt;.yml -c &lt;rails-app-root-path&gt; --servers &lt;number-of-threads&gt; -e &lt;environment&gt;
</span><span class='line'>&lt;/environment&gt;&lt;/number-of-threads&gt;&lt;/rails-app-root-path&gt;&lt;/config-name&gt;</span></code></pre></td></tr></table></div></figure>


<p>In my case,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo thin config -C /etc/thin/rails_app.yml -c /home/sandip/rails_app --servers 3 -e production
</span><span class='line'>
</span><span class='line'>&gt;&gt; Wrote configuration to /etc/thin/rails_app.yml</span></code></pre></td></tr></table></div></figure>


<p>thin configuration file will look like</p>

<p>Start/stop/restart Nginx &amp; thin server using command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo service nginx start|stop|restart
</span><span class='line'>sudo service thin start|stop|restart</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/ruby-on-rails-installation-on-fresh-ubuntu/">ruby on rails installation on fresh ubuntu machine</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-25T23:36:00+05:30" pubdate data-updated="true">Mar 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ruby On Rails Installation on fresh ubuntu machine</p>

<p>Installation steps are applicable to ubuntu versions interpid, karmic koala. Make necessary changes according to package manager provided by other linux operating systems in order install ruby and rails.</p>

<p>Before getting started to installations make sure to build essential packages on fresh ubutnu machine. Ubuntu machine has built in apt-get package manager and that i loves because it is very to use as compared to other OS.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install build-essential</span></code></pre></td></tr></table></div></figure>


<p>Now there are many versions of ruby available including latest 1.9.2</p>

<p>But would like to prefer ruby version 1.8.7 as it is the most stable version as of now. I would like to recommend installtion of Ruby Enterprise Edition (REE) version as it is uses minimal system resources and consumes less memory.</p>

<p>Instrunctions to setup normal ruby and rails environment</p>

<h2>1. Install Ruby, Rails, MySQL, irb and neceesary packages using single command</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install ruby ri rdoc mysql-server libmysql-ruby ruby1.8-dev irb1.8 libdbd-mysql-perl libdbi-perl libmysql-ruby1.8 libmysqlclient15off libnet-daemon-perl libplrpc-perl libreadline-ruby1.8 libruby1.8 mysql-client-5.1 mysql-common mysql-server-5.1 rdoc1.8 ri1.8 ruby1.8 irb libopenssl-ruby libopenssl-ruby1.8 libhtml-template-perl mysql-server-core-5.1 libmysqlclient16 libreadline5 psmisc</span></code></pre></td></tr></table></div></figure>


<h2>2. Install ruby gems</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wget http://rubyforge.org/frs/download.php/60718/rubygems-1.3.5.tgz
</span><span class='line'>tar xvzf rubygems-1.3.5.tgz
</span><span class='line'>cd rubygems-1.3.5
</span><span class='line'>sudo ruby setup.rb</span></code></pre></td></tr></table></div></figure>


<h2>3. Create symbolic links to installation paths</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo ln -s /usr/bin/gem1.8 /usr/local/bin/gem
</span><span class='line'>sudo ln -s /usr/bin/ruby1.8 /usr/local/bin/ruby
</span><span class='line'>sudo ln -s /usr/bin/rdoc1.8 /usr/local/bin/rdoc
</span><span class='line'>sudo ln -s /usr/bin/ri1.8 /usr/local/bin/ri
</span><span class='line'>sudo ln -s /usr/bin/irb1.8 /usr/local/bin/irb</span></code></pre></td></tr></table></div></figure>


<h2>4. Setup gemrc in order to avoid rdoc installation and to setup gem sources.</h2>

<p>Add following lines to ~/.gemrc file</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>---
</span><span class='line'>gem: --no-ri --no-rdoc
</span><span class='line'>:benchmark: false
</span><span class='line'>:verbose: true
</span><span class='line'>:backtrace: false
</span><span class='line'>:update_sources: true
</span><span class='line'>:sources:
</span><span class='line'>- http://gems.rubyforge.org
</span><span class='line'>- http://gems.github.com
</span><span class='line'>:bulk_threshold: 1000</span></code></pre></td></tr></table></div></figure>


<h2>5. Install rails</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo gem install rails --no-rdoc --no-ri</span></code></pre></td></tr></table></div></figure>


<h2>Ruby Enterprise Edition i.e. REE (ruby 1.8.7) Installation</h2>

<p>This will install ruby, rails, mysql, nginx and passenger</p>

<h4>1. Download REE setup and install it</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wget http://rubyforge.org/frs/download.php/68719/ruby-enterprise-1.8.7-2010.01.tar.gz /opt/ruby
</span><span class='line'>
</span><span class='line'>cd /opt
</span><span class='line'>./ruby/installer</span></code></pre></td></tr></table></div></figure>


<h4>2. Add ruby inside path</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vi ~/.bashrc
</span><span class='line'># Add following line at the end of file
</span><span class='line'>export PATH=/opt/ruby/bin:$PATH</span></code></pre></td></tr></table></div></figure>


<p>Thanks to @vwadhwani!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/9/">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/page/7/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/03/api-authentication-using-devise-token/">Grape API authentication using Devise Auth Token</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/building-restful-api-using-grape-in-rails/">Building RESTful API using Grape in Rails</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/understanding-restful-vs-soap-web-services/">Understanding RESTful vs SOAP web services</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/regex-to-split-string-within-quotes-and-spaces/">regex to split string within quotes and spaces</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/moving-from-blogspot-to-octopress/">Migrating from blogspot to octopress</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sandipransing">@sandipransing</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sandipransing',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2009 - 2014 - sandipransing -
  <span class="credit">Powered by <a href="http://octopress.org" target='_blank'>Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace" target='_blank'>Whitespace</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'funonrails';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>








  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
