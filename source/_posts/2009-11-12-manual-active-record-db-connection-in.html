---
layout: post
title: "Manual active record db connection in ruby using mysql adapter"
date: 2009-11-12T20:27:00+05:30
comments: false
categories:
 - ruby
 - mysql
 - active record
---

<div class='post'>
Below is ruby code to establish manual database connection. <br/><pre class=ruby>require 'active_record' ActiveRecord::Base.establish_connection(     :adapter  => "mysql",     :host     => "localhost",     :username => "root",     :password => "abcd",     :database => "funonrails"   ) </pre><br/>Snippet of database.yml file <br/><pre class=ruby>common: &common   adapter: mysql   database: students_dev   username: root   password:   host: localhost  students_development:   <<: *common   database: students_dev  students_production:   <<: *common   database: students </pre><br/>Load database configurations from yml file<br/><pre class=ruby>dbconfig = YAML::load(File.open('database.yml'))  ActiveRecord::Base.establish_connection( dbconfig[:students_development] ) </pre><br/><b>Active Record Model & DB connection </b><br/><pre class=ruby>class Student < ActiveRecord::Base   establish_connection "students_production"   set_table_name "student"   set_primary_key "stud_number" end </pre></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Sandip Ransing</div>
<div class='content'>
This is because YAML libray is not installed or not in path.<br /><br />Add library to your code before that ensure it exists.<br /><br />require &quot;yaml&quot;<br /><br />dbconfig = YAML::load(File.open(&#39;database.yml&#39;))<br />ActiveRecord::Base.establish_connection( dbconfig )</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
getting for the code above uninitialized constant YAML (NameError)<br /><br />what should i do?help me out</div>
</div>
</div>
